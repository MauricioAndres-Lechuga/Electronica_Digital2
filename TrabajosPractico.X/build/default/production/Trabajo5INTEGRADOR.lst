MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  16:57:53         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001 ;*** Directivas de Inclusión ***    
Warning[205]: Found directive in column 1. (LIST)
                      00002 LIST P=16F887                
                      00003 #include "p16f887.inc"
                      00001         LIST
                      00002 
                      00003 ;==========================================================================
                      00004 ; Build date : Jul 23 2018
                      00005 ;  MPASM PIC16F887 processor include
                      00006 ; 
                      00007 ;  (c) Copyright 1999-2018 Microchip Technology, All rights reserved
                      00008 ;==========================================================================
                      00009 
                      00810         LIST
                      00004 
                      00005 ;**** Configuración General ****    
Warning[205]: Found directive in column 1. (__CONFIG)
2007   2FF1           00006 __CONFIG _CONFIG1, _XT_OSC & _WDTE_OFF & _MCLRE_ON & _LVP_OFF    
                      00007     
                      00008 ;**** Definición de Variables ****
Warning[205]: Found directive in column 1. (CBLOCK)
                      00009 CBLOCK 0x20
  00000020            00010     W_TEMP         
  00000021            00011     STATUS_TEMP     
  00000022            00012     DELAY1_2ms
  00000023            00013     DELAY2_2ms
  00000024            00014     DELAY1_20ms
  00000025            00015     DELAY2_20ms
  00000026            00016     UNI
  00000027            00017     DECS
  00000028            00018     CEN
  00000029            00019     ISR_TECL
  0000002A            00020     NTECL
  0000002B            00021     MAX_dB
  0000002C            00022     TEMP1
  0000002D            00023     TEMP2
  0000002E            00024     INDEX
  0000002F            00025     RESTO
  00000030            00026     ADC_DB    
Warning[205]: Found directive in column 1. (ENDC)
                      00027 ENDC  
                      00028 
                      00029 ;*** Vectores de Reset e Interrupción ***
Warning[205]: Found directive in column 1. (ORG)
                      00030 ORG 0x00
Warning[203]: Found opcode in column 1. (GOTO)
0000   2???           00031 GOTO INICIO
Warning[205]: Found directive in column 1. (ORG)
                      00032 ORG 0x04
Warning[203]: Found opcode in column 1. (GOTO)
0004   2???           00033 GOTO ISR_INICIO   
                      00034 
                      00035     
MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  16:57:53         PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00036 ;==============================================================
                      00037 ; DEFINICION DE MACROS
                      00038 ;==============================================================
                      00039 INI_PORTB MACRO
                      00040   BANKSEL ANSELH
                      00041   CLRF    ANSELH                 ; PORTB digital
                      00042   BANKSEL TRISB
                      00043   MOVLW b'11110000'         ; RB7-RB4 = entradas (columnas), RB3-RB0 = salidas (filas)
                      00044   MOVWF TRISB
Warning[205]: Found directive in column 1. (ENDM)
                      00045 ENDM
                      00046   
                      00047 INI_PORTE MACRO
                      00048    BANKSEL ANSEL
                      00049    BCF      ANSEL,5
                      00050    BCF      ANSEL,6
                      00051    BCF      ANSEL,7 ;PORTE digital
                      00052    BANKSEL  TRISE
                      00053    BCF      TRISE,0
                      00054    BCF      TRISE,1
                      00055    BCF      TRISE,2 ;PORTE salidas
Warning[205]: Found directive in column 1. (ENDM)
                      00056 ENDM
                      00057    
                      00058 INI_PORTD MACRO
                      00059    BANKSEL  TRISD
                      00060    CLRF     TRISD ;PORTD salida, no tiene ANSEL, solo digital
Warning[205]: Found directive in column 1. (ENDM)
                      00061 ENDM
                      00062    
                      00063 INI_PORTC MACRO
                      00064     BANKSEL TRISC
                      00065     BCF     TRISC,0
                      00066     BCF     TRISC,1
                      00067     BCF     TRISC,2
                      00068     BCF     TRISC,3
                      00069     BCF     TRISC,6     ; RC6 como salida para TX
Warning[205]: Found directive in column 1. (ENDM)
                      00070 ENDM
                      00071     
                      00072 INI_PORTA MACRO
                      00073     BANKSEL ANSEL
                      00074     BCF     ANSEL,2
                      00075     BCF     ANSEL,4
                      00076     BANKSEL TRISA
                      00077     BCF     TRISA,2
                      00078     BCF     TRISA,4
                      00079     BCF     TRISA,5
Warning[205]: Found directive in column 1. (ENDM)
                      00080 ENDM
                      00081     
                      00082 INI_TECL MACRO
                      00083    BANKSEL OPTION_REG
MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  16:57:53         PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00084    BCF OPTION_REG,7           ; Habilita pull-ups en PORTB (RBPU=0)
                      00085    BANKSEL IOCB
                      00086    MOVLW b'11110000'          ; Habilita cambio en RB7?RB4
                      00087    MOVWF IOCB
Warning[205]: Found directive in column 1. (ENDM)
                      00088 ENDM
                      00089    
                      00090 INI_PUERTOS MACRO
                      00091    BANKSEL PORTB
                      00092    CLRF PORTA
                      00093    CLRF PORTC
                      00094    CLRF PORTE
                      00095    CLRF PORTB
                      00096    CLRF PORTD
                      00097    CLRF NTECL
                      00098    CLRF UNI
                      00099    CLRF DECS
                      00100    CLRF CEN
                      00101    CLRF ADC_DB
                      00102    MOVLW    .90
                      00103    MOVWF    MAX_dB
Warning[205]: Found directive in column 1. (ENDM)
                      00104 ENDM
                      00105 
                      00106 INI_UART MACRO
                      00107    BANKSEL TXSTA
                      00108    BSF     TXSTA, TXEN      ; Transmisión habilitada
                      00109    BCF     TXSTA, SYNC      ; Modo asíncrono (comparten clock)
                      00110    BSF     TXSTA, BRGH      ; Alta velocidad
                      00111    BANKSEL BAUDCTL
                      00112    BCF     BAUDCTL, BRG16   ; Generador de Baudrate de 8 bits
                      00113    BANKSEL SPBRG
                      00114    MOVLW   D'25'            ; 9600 baudios con 4MHz ---> Fosc / (16 × (SPBRG + 1)) --> SPBRG = (4,000,00
                            0 / 153,600) - 1 ? 25
                      00115    MOVWF   SPBRG    
                      00116    BANKSEL RCSTA
                      00117    BSF     RCSTA, SPEN      ; Habilita todo el puerto serial (UART)
Warning[205]: Found directive in column 1. (ENDM)
                      00118 ENDM
                      00119 
                      00120 INI_INTER  MACRO
                      00121    BANKSEL INTCON
                      00122    BCF INTCON, RBIF      ; Limpia bandera anterior
                      00123    MOVF PORTB, W         ; Lectura obligatoria para armar el latch
                      00124    BSF INTCON, RBIE       ; Habilita interrupción en cambio de RB
                      00125    BSF INTCON, GIE        ; Habilita interrupciones globales
Warning[205]: Found directive in column 1. (ENDM)
                      00126 ENDM
                      00127 
                      00128 INI_ADC MACRO
                      00129     ; HABILITAR AN0 COMO ANALOGICO
                      00130     BANKSEL ANSEL
                      00131     BSF     ANSEL,0            ; RA0 analógico
MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  16:57:53         PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00132 
                      00133     ; RA0 como entrada
                      00134     BANKSEL TRISA
                      00135     BSF     TRISA,0
                      00136 
                      00137     ; ADCON1 CONFIGURA REFERENCIAS
                      00138     BANKSEL ADCON1
                      00139     MOVLW   b'00000010'        ; Vref = Vdd/Vss
                      00140 
                      00141     ; ADCON0 CONFIGURA CANAL Y CLOCK
                      00142     BANKSEL ADCON0
                      00143     MOVLW   b'10000001'        ; ADCS=10 (Fosc/32), CHS=000 (AN0), ADON=1
                      00144     MOVWF   ADCON0
Warning[205]: Found directive in column 1. (ENDM)
                      00145 ENDM
                      00146 
                      00147 ;==============================================================
                      00148 ; PROGRAMA PRINCIPAL
                      00149 ;==============================================================
0005                  00150 INICIO   
Warning[206]: Found call to macro in column 1. (INI_PUERTOS)
                      00151 INI_PUERTOS
0005   1283 1303          M    BANKSEL PORTB
0007   0185               M    CLRF PORTA
0008   0187               M    CLRF PORTC
0009   0189               M    CLRF PORTE
000A   0186               M    CLRF PORTB
000B   0188               M    CLRF PORTD
000C   01AA               M    CLRF NTECL
000D   01A6               M    CLRF UNI
000E   01A7               M    CLRF DECS
000F   01A8               M    CLRF CEN
0010   01B0               M    CLRF ADC_DB
0011   305A               M    MOVLW    .90
0012   00AB               M    MOVWF    MAX_dB
Warning[206]: Found call to macro in column 1. (INI_PORTB)
                      00152 INI_PORTB
0013   1683 1703          M   BANKSEL ANSELH
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0015   0189               M   CLRF    ANSELH                 ; PORTB digital
0016   1683 1303          M   BANKSEL TRISB
0018   30F0               M   MOVLW b'11110000'         ; RB7-RB4 = entradas (columnas), RB3-RB0 = salidas (filas)
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0019   0086               M   MOVWF TRISB
Warning[206]: Found call to macro in column 1. (INI_PORTE)
                      00153 INI_PORTE
001A   1683 1703          M    BANKSEL ANSEL
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
001C   1288               M    BCF      ANSEL,5
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
001D   1308               M    BCF      ANSEL,6
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
001E   1388               M    BCF      ANSEL,7 ;PORTE digital
MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  16:57:53         PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

001F   1683 1303          M    BANKSEL  TRISE
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0021   1009               M    BCF      TRISE,0
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0022   1089               M    BCF      TRISE,1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0023   1109               M    BCF      TRISE,2 ;PORTE salidas
Warning[206]: Found call to macro in column 1. (INI_PORTA)
                      00154 INI_PORTA
0024   1683 1703          M     BANKSEL ANSEL
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0026   1108               M     BCF     ANSEL,2
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0027   1208               M     BCF     ANSEL,4
0028   1683 1303          M     BANKSEL TRISA
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
002A   1105               M     BCF     TRISA,2
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
002B   1205               M     BCF     TRISA,4
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
002C   1285               M     BCF     TRISA,5
Warning[206]: Found call to macro in column 1. (INI_PORTC)
                      00155 INI_PORTC
002D   1683 1303          M     BANKSEL TRISC
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
002F   1007               M     BCF     TRISC,0
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0030   1087               M     BCF     TRISC,1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0031   1107               M     BCF     TRISC,2
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0032   1187               M     BCF     TRISC,3
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0033   1307               M     BCF     TRISC,6     ; RC6 como salida para TX
Warning[206]: Found call to macro in column 1. (INI_PORTD)
                      00156 INI_PORTD
0034   1683 1303          M    BANKSEL  TRISD
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0036   0188               M    CLRF     TRISD ;PORTD salida, no tiene ANSEL, solo digital
Warning[206]: Found call to macro in column 1. (INI_TECL)
                      00157 INI_TECL
0037   1683 1303          M    BANKSEL OPTION_REG
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0039   1381               M    BCF OPTION_REG,7           ; Habilita pull-ups en PORTB (RBPU=0)
003A   1683 1303          M    BANKSEL IOCB
003C   30F0               M    MOVLW b'11110000'          ; Habilita cambio en RB7?RB4
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
003D   0096               M    MOVWF IOCB
Warning[206]: Found call to macro in column 1. (INI_UART)
                      00158 INI_UART        
003E   1683 1303          M    BANKSEL TXSTA
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0040   1698               M    BSF     TXSTA, TXEN      ; Transmisión habilitada
MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  16:57:53         PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0041   1218               M    BCF     TXSTA, SYNC      ; Modo asíncrono (comparten clock)
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0042   1518               M    BSF     TXSTA, BRGH      ; Alta velocidad
0043   1683 1703          M    BANKSEL BAUDCTL
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0045   1187               M    BCF     BAUDCTL, BRG16   ; Generador de Baudrate de 8 bits
0046   1683 1303          M    BANKSEL SPBRG
0048   3019               M    MOVLW   D'25'            ; 9600 baudios con 4MHz ---> Fosc / (16 × (SPBRG + 1)) --> SPBRG = (4,000,00
                            0 / 153,600) - 1 ? 25
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0049   0099               M    MOVWF   SPBRG    
004A   1283 1303          M    BANKSEL RCSTA
004C   1798               M    BSF     RCSTA, SPEN      ; Habilita todo el puerto serial (UART)
Warning[206]: Found call to macro in column 1. (INI_ADC)
                      00159 INI_ADC
                          M     ; HABILITAR AN0 COMO ANALOGICO
004D   1683 1703          M     BANKSEL ANSEL
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
004F   1408               M     BSF     ANSEL,0            ; RA0 analógico
                          M 
                          M     ; RA0 como entrada
0050   1683 1303          M     BANKSEL TRISA
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0052   1405               M     BSF     TRISA,0
                          M 
                          M     ; ADCON1 CONFIGURA REFERENCIAS
0053   1683 1303          M     BANKSEL ADCON1
0055   3002               M     MOVLW   b'00000010'        ; Vref = Vdd/Vss
                          M 
                          M     ; ADCON0 CONFIGURA CANAL Y CLOCK
0056   1283 1303          M     BANKSEL ADCON0
0058   3081               M     MOVLW   b'10000001'        ; ADCS=10 (Fosc/32), CHS=000 (AN0), ADON=1
0059   009F               M     MOVWF   ADCON0
Warning[206]: Found call to macro in column 1. (INI_INTER)
                      00160 INI_INTER
005A   1283 1303          M    BANKSEL INTCON
005C   100B               M    BCF INTCON, RBIF      ; Limpia bandera anterior
005D   0806               M    MOVF PORTB, W         ; Lectura obligatoria para armar el latch
005E   158B               M    BSF INTCON, RBIE       ; Habilita interrupción en cambio de RB
005F   178B               M    BSF INTCON, GIE        ; Habilita interrupciones globales
                      00161 
0060                  00162 MAIN_LOOP
0060   2???           00163     CALL ADC_READ
0061   2???           00164     CALL TRANS_ADC_DB
0062   2???           00165     CALL MAXdB_TRANS
0063   2???           00166     CALL MAXdB_COMP
0064   2???           00167     CALL MUESTREO
0065   2???           00168     CALL SEND_ADC
0066   0000           00169     NOP
0067   2???           00170     GOTO MAIN_LOOP
                      00171 
                      00172 ;==============================================================
MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  16:57:53         PAGE  7


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00173 ; RUTINA DE INTERRUPCIÓN
                      00174 ;==============================================================
0068                  00175 ISR_INICIO    
0068   00A0           00176     MOVWF   W_TEMP
0069   0803           00177     MOVF    STATUS,W
006A   00A1           00178     MOVWF   STATUS_TEMP         ;Guardamos contexto
006B   1C0B           00179     BTFSS   INTCON,RBIF         ;si hubo interrupcion Salta a CLRF NTECL
006C   2???           00180     GOTO    ISR_FIN
006D   01AA           00181     CLRF    NTECL              
006E   300E           00182     MOVLW   b'00001110'        ; Activa primera fila
006F   0086           00183     MOVWF   PORTB
0070   2???           00184     CALL    DELAY_20ms          ; *** DELAY PARA ESTABILIZAR ***
0071   2???           00185     GOTO    TEST_COL
                      00186 
                      00187 ;--------------------------------------------------------------
                      00188 ; Detecta columna activa
                      00189 ;--------------------------------------------------------------
0072                  00190 TEST_COL
0072   1E06           00191     BTFSS   PORTB,4            
0073   2???           00192     GOTO    TECL_DELAYC1
0074   0AAA           00193     INCF    NTECL,F            
                      00194     
0075   1E86           00195     BTFSS   PORTB,5            
0076   2???           00196     GOTO    TECL_DELAYC2
0077   0AAA           00197     INCF    NTECL,F            
                      00198     
0078   1F06           00199     BTFSS   PORTB,6            
0079   2???           00200     GOTO    TECL_DELAYC3
007A   0AAA           00201     INCF    NTECL,F            
                      00202     
007B   1F86           00203     BTFSS   PORTB,7            
007C   2???           00204     GOTO    TECL_DELAYC4
                      00205     
007D   0AAA           00206     INCF    NTECL,F            
007E   2???           00207     GOTO    TEST_FIL
                      00208 
                      00209 ;--------------------------------------------------------------
                      00210 ; Cambia fila activa para seguir buscando tecla
                      00211 ;--------------------------------------------------------------
007F                  00212 TEST_FIL
007F   1D86           00213     BTFSS   PORTB,RB3            
0080   2???           00214     GOTO    TECL_RES           
                      00215     
0081   1403           00216     BSF     STATUS,C
0082   0D86           00217     RLF     PORTB,F            
0083   2???           00218     CALL    DELAY_20ms          ; *** DELAY DESPUÉS DE CAMBIAR FILA ***
0084   2???           00219     GOTO    TEST_COL
                      00220 
                      00221 ;--------------------------------------------------------------
                      00222 ; Detecta qué columna se activó y verifica tecla
                      00223 ;--------------------------------------------------------------
0085                  00224 TECL_DELAYC1
0085   2???           00225     CALL    DELAY_20ms
MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  16:57:53         PAGE  8


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0086   2???           00226     CALL    DELAY_20ms
0087   1E06           00227     BTFSS   PORTB,4             
0088   2???           00228     GOTO    TECL_LOAD
0089   2???           00229     GOTO    TECL_RES
                      00230 
008A                  00231 TECL_DELAYC2
008A   2???           00232     CALL    DELAY_20ms
008B   2???           00233     CALL    DELAY_20ms
008C   1E86           00234     BTFSS   PORTB,5
008D   2???           00235     GOTO    TECL_LOAD
008E   2???           00236     GOTO    TECL_RES
                      00237 
008F                  00238 TECL_DELAYC3
008F   2???           00239     CALL    DELAY_20ms
0090   2???           00240     CALL    DELAY_20ms
0091   1F06           00241     BTFSS   PORTB,6
0092   2???           00242     GOTO    TECL_LOAD
0093   2???           00243     GOTO    TECL_RES
                      00244 
0094                  00245 TECL_DELAYC4
0094   2???           00246     CALL    DELAY_20ms
0095   2???           00247     CALL    DELAY_20ms
0096   1F86           00248     BTFSS   PORTB,7
0097   2???           00249     GOTO    TECL_LOAD
0098   2???           00250     GOTO    TECL_RES
                      00251 
                      00252 ;--------------------------------------------------------------
                      00253 ; Guarda valor según la tecla detectada (1 a 16)
                      00254 ;--------------------------------------------------------------
0099                  00255 TECL_LOAD
0099   082A           00256     MOVF    NTECL,W
009A   390F           00257     ANDLW   0x0F            ; Limita a 0-15
009B   00AC           00258     MOVWF   TEMP1           ; Guarda temporalmente
                      00259     
                      00260     ; Configurar PCLATH
009C   30??           00261     MOVLW   HIGH TABLA_MAXdB    ;Cargo en W el byte mas alto de tabla max
009D   008A           00262     MOVWF   PCLATH              ;Lo guardo en PCLATH para usarlo cuando se haga la asignacion en el PCL 
                            de la tabla
                      00263         
009E   082C           00264     MOVF    TEMP1,W
009F   2???           00265     CALL    TABLA_MAXdB
00A0   00AB           00266     MOVWF   MAX_dB              ;Guardo el valor de la tecla presionada
                      00267     
                      00268     ; Restaurar PCLATH
00A1   018A           00269     CLRF    PCLATH              ;limpio el PCLATH para que no me afecte en otras partes del programa
00A2   2???           00270     GOTO    TECL_RES            
                      00271 ;--------------------------------------------------------------
                      00272 ; Limpieza final de interrupción
                      00273 ;--------------------------------------------------------------
00A3                  00274 TECL_RES
                      00275     ; *** ACTIVAR TODAS LAS FILAS PARA DETECTAR LIBERACIÓN ***
00A3   300F           00276     MOVLW   b'00001111'         ; Activa todas las filas
00A4   0086           00277     MOVWF   PORTB
MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  16:57:53         PAGE  9


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00A5   0000           00278     NOP 
00A6   0000           00279     NOP
                      00280     
00A7                  00281 WAIT_RELEASE
00A7   30F0           00282     MOVLW   b'11110000'
00A8   0506           00283     ANDWF   PORTB,W             ;Me quedo con RB4?RB7 solamente (me quedo con las filas)
00A9   3CF0           00284     SUBLW   b'11110000'         
00AA   1D03           00285     BTFSS   STATUS,Z            ;si Z=0 entonces hay una tecla presionada
00AB   2???           00286     GOTO    WAIT_RELEASE        ;repito hasta que no haya ninguna tecla presionada  
00AC   01AA           00287     CLRF    NTECL        
00AD   3000           00288     MOVLW   b'00000000'         ; Desactiva todas las filas
00AE   0086           00289     MOVWF   PORTB
00AF   0000           00290     NOP
00B0   0000           00291     NOP
00B1   0806           00292     MOVF    PORTB,W             ; Lectura para limpiar mismatch
00B2   100B           00293     BCF     INTCON,RBIF
00B3   2???           00294     GOTO    ISR_FIN
                      00295 
                      00296 ;--------------------------------------------------------------
                      00297 ; Restaura registros y sale de interrupción
                      00298 ;--------------------------------------------------------------
00B4                  00299 ISR_FIN
00B4   0821           00300     MOVF    STATUS_TEMP,W
00B5   0083           00301     MOVWF   STATUS
00B6   0820           00302     MOVF    W_TEMP,W
00B7   0009           00303     RETFIE
                      00304 ;==============================================================
                      00305 ; DELAYS
                      00306 ;==============================================================
00B8                  00307 DELAY_2ms
00B8   3050           00308     MOVLW   D'80'         
00B9   00A2           00309     MOVWF   DELAY1_2ms
00BA                  00310 LOOP1_2ms
00BA   3008           00311     MOVLW   D'8'          
00BB   00A3           00312     MOVWF   DELAY2_2ms
00BC                  00313 LOOP2_2ms
00BC   0000           00314     NOP
00BD   0BA3           00315     DECFSZ  DELAY2_2ms, F
00BE   2???           00316     GOTO    LOOP2_2ms
00BF   0BA2           00317     DECFSZ  DELAY1_2ms, F
00C0   2???           00318     GOTO    LOOP1_2ms
00C1   0008           00319     RETURN
                      00320 
00C2                  00321 DELAY_20ms
00C2   3050           00322     MOVLW   D'80'          
00C3   00A4           00323     MOVWF   DELAY1_20ms
00C4                  00324 LOOP1_20ms
00C4   3050           00325     MOVLW   D'80'          
00C5   00A5           00326     MOVWF   DELAY2_20ms
00C6                  00327 LOOP2_20ms
00C6   0000           00328     NOP
00C7   0BA5           00329     DECFSZ  DELAY2_20ms, F
00C8   2???           00330     GOTO    LOOP2_20ms
MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  16:57:53         PAGE 10


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00C9   0BA4           00331     DECFSZ  DELAY1_20ms, F
00CA   2???           00332     GOTO    LOOP1_20ms
00CB                  00333     RETURN
                      00334 ;==============================================================
                      00335 ; RUTINA ADC (actualiza ADC)
                      00336 ;==============================================================
00CB                  00337 ADC_READ
                      00338     ; ESPERA DE ADQUISICION (TACQ >= 20us)
00CB   3032           00339     MOVLW   D'50'              ; se carga el 50 para generar un retardo para estabilizar la muestra en e
                            l capacitor ~ 20us
00CC   00AC           00340     MOVWF   TEMP1
00CD                  00341 ACQ_LOOP
00CD   0BAC           00342         DECFSZ  TEMP1,F         ;Decremento hasta que sea 0, (espero 50microsegundos)
00CE   2???           00343         GOTO    ACQ_LOOP
                      00344         
                      00345         ; COMENZAR CONVERSION
00CF   1283 1303      00346         BANKSEL ADCON0
00D1   149F           00347         BSF     ADCON0,GO_DONE
                      00348 
00D2                  00349 WAIT_ADC
00D2   189F           00350         BTFSC   ADCON0,GO_DONE
00D3   2???           00351         GOTO    WAIT_ADC
                      00352 
00D4   1283 1303      00353         BANKSEL ADRESH
00D6   081E           00354         MOVF    ADRESH,W           ; LECTURA (JUSTIF IZQ)
00D7   0008           00355         RETURN
                      00356         
                      00357 ; ============================================================
                      00358 ;  TRANS_ADC_DB
                      00359 ;  Convierte ADRESH (0?255) -> ADC_DB (0?120 dB)
                      00360 ;  Usa tabla + interpolación discreta.
                      00361 ;
                      00362 ;  REGISTROS USADOS:  TEMP1, TEMP2, INDEX, RESTO
                      00363 ; ============================================================
                      00364 
                      00365 
00D8                  00366 TRANS_ADC_DB
                      00367     ; -------- copiar ADC --------
00D8   1283 1303      00368     BANKSEL ADRESH
00DA   081E           00369     MOVF    ADRESH,W
00DB   00AC           00370     MOVWF   TEMP1              ; TEMP1 = ADC (0?255)
                      00371 
                      00372     ; -------- índice = ADC/16 --------
00DC   082C           00373     MOVF    TEMP1,W
00DD   39F0           00374     ANDLW   0xF0               ; deja nibble alto
00DE   00AE           00375     MOVWF   INDEX              ; INDEX = nibble alto
00DF   0EAE           00376     SWAPF   INDEX,F            ; lo pasa a nibble bajo
                      00377 
                      00378     ; -------- resto = ADC % 16 --------
00E0   082C           00379     MOVF    TEMP1,W
00E1   390F           00380     ANDLW   0x0F
00E2   00AF           00381     MOVWF   RESTO
                      00382 
MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  16:57:53         PAGE 11


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00383     ; -------- cargar tabla[index] --------
00E3   30??           00384     MOVLW   HIGH TABLA_MAXdB
00E4   008A           00385     MOVWF   PCLATH
                      00386 
00E5   082E           00387     MOVF    INDEX,W
00E6   2???           00388     CALL    TABLA_MAXdB
00E7   00B0           00389     MOVWF   ADC_DB             ; valor base
                      00390 
                      00391     ; -------- delta = tabla[index+1] - tabla[index] --------
00E8   0AAE           00392     INCF    INDEX,F            ; índice siguiente
00E9   082E           00393     MOVF    INDEX,W
00EA   2???           00394     CALL    TABLA_MAXdB
00EB   00AC           00395     MOVWF   TEMP1              ; TEMP1 = tabla[i+1]
                      00396 
00EC   03AE           00397     DECF    INDEX,F
00ED   082E           00398     MOVF    INDEX,W
00EE   2???           00399     CALL    TABLA_MAXdB
00EF   02AC           00400     SUBWF   TEMP1,F            ; TEMP1 = delta
                      00401 
                      00402     ; ahora:
                      00403     ;   TEMP1 = delta
                      00404     ;   RESTO = resto 0?15
                      00405 
                      00406     ; -------- interpolación (delta * resto) --------
00F0   01AD           00407     CLRF    TEMP2              ; acumulador = 0
                      00408 
00F1                  00409 MUL_LOOP
00F1   08AF           00410     MOVF    RESTO,F
00F2   1903           00411     BTFSC   STATUS,Z
00F3   2???           00412     GOTO    MUL_DONE
                      00413 
00F4   082C           00414     MOVF    TEMP1,W
00F5   07AD           00415     ADDWF   TEMP2,F           ; TEMP2 += delta
                      00416 
00F6   03AF           00417     DECF    RESTO,F
00F7   2???           00418     GOTO    MUL_LOOP
                      00419 
00F8                  00420 MUL_DONE
                      00421     ; dividir por 16 ? nibble alto ? nibble bajo
00F8   0E2D           00422     SWAPF   TEMP2,W           
00F9   390F           00423     ANDLW   0x0F
                      00424 
00FA   1283 1303      00425     BANKSEL ADC_DB
00FC   07B0           00426     ADDWF   ADC_DB,F           ; suma interpolación
                      00427 
00FD   018A           00428     CLRF    PCLATH
00FE   0008           00429     RETURN
                      00430     
                      00431 ;==============================================================
                      00432 ; TRANSMISION SERIE
                      00433 ;==============================================================
00FF                  00434 SEND_ADC
Warning[207]: Found label after column 1. (LOOP_SENDADC)
MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  16:57:53         PAGE 12


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00FF                  00435     LOOP_SENDADC
00FF   1683 1303      00436     BANKSEL TXSTA
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0101   1C98           00437     BTFSS   TXSTA, TRMT      ; Esperar buffer vacío
0102   2???           00438     GOTO    LOOP_SENDADC
0103   1283 1303      00439     BANKSEL ADC_DB
0105   0830           00440     MOVF    ADC_DB, W        ; ADC de 8 bits
0106   1283 1303      00441     BANKSEL TXREG
0108   0099           00442     MOVWF   TXREG            ; Enviar 1 byte crudo
Warning[203]: Found opcode in column 1. (RETURN)
0109   0008           00443 RETURN
                      00444 ;==============================================================
                      00445 ; RUTINA Transformacion a UNI,DEC y CEN con TRANSMISION SERIE
                      00446 ;==============================================================
010A                  00447 MAXdB_TRANS
010A   1283 1303      00448     BANKSEL MAX_dB
010C   082B           00449     MOVF    MAX_dB,W
010D   00AC           00450     MOVWF   TEMP1       ; número 0?255
                      00451 
010E   01A8           00452     CLRF    CEN
010F   01A7           00453     CLRF    DECS
                      00454 ; -------- CENTENAS (100) ---------
0110                  00455 CENT_LOOP
0110   3064           00456     MOVLW   D'100'
0111   02AC           00457     SUBWF   TEMP1,F
0112   1C03           00458     BTFSS   STATUS,C    ; ¿fue negativa?
0113   2???           00459     GOTO    FIX_CENT
0114   0AA8           00460     INCF    CEN,F
0115   2???           00461     GOTO    CENT_LOOP
                      00462 
0116                  00463 FIX_CENT
0116   3064           00464     MOVLW   D'100'
0117   07AC           00465     ADDWF   TEMP1,F      ; restaurar TEMP1
                      00466 
                      00467 ; -------- DECENAS (10) ---------
0118                  00468 DEC_LOOP
0118   300A           00469     MOVLW   D'10'
0119   02AC           00470     SUBWF   TEMP1,F
011A   1C03           00471     BTFSS   STATUS,C
011B   2???           00472     GOTO    FIX_DEC
011C   0AA7           00473     INCF    DECS,F
011D   2???           00474     GOTO    DEC_LOOP
                      00475 
011E                  00476 FIX_DEC
011E   300A           00477     MOVLW   D'10'
011F   07AC           00478     ADDWF   TEMP1,F      ; restaurar TEMP1
                      00479 
                      00480 ; -------- UNIDADES --------
0120   082C           00481     MOVF    TEMP1,W      ; el resto final
0121   00A6           00482     MOVWF   UNI
0122   0008           00483     RETURN
                      00484 
                      00485 ;==============================================================
MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  16:57:53         PAGE 13


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00486 ; RUTINA COMPARACION ADC - BARGRAPH
                      00487 ;==============================================================
0123                  00488 MAXdB_COMP
                      00489     ; limpiar LEDs
0123   1283 1303      00490     BANKSEL PORTA
0125   1205           00491     BCF PORTA,4     
0126   1105           00492     BCF PORTA,2     ; LED MAX
0127   1283 1303      00493     BANKSEL PORTC
0129   1007           00494     BCF PORTC,0
012A   1087           00495     BCF PORTC,1
012B   1107           00496     BCF PORTC,2     ;LED MIN
012C   1187           00497     BCF PORTC,3
012D   1003           00498     BCF STATUS,C
                      00499 
                      00500     ; copiar MAX_dB
012E   082B           00501     MOVF MAX_dB,W
012F   00AC           00502     MOVWF TEMP1
                      00503 
                      00504 ;-------------------------------
                      00505 ; LED MAX (A2)
0130   1283 1303      00506     BANKSEL ADC_DB
0132   0830           00507     MOVF ADC_DB,W
0133   022C           00508     SUBWF TEMP1,W
0134   1C03           00509     BTFSS STATUS,C
0135   1505           00510     BSF PORTA,2
0136   1003           00511     BCF STATUS,C
                      00512 
                      00513 ;-------------------------------
                      00514 ; LED A4 
0137   300A           00515     MOVLW .10
0138   02AC           00516     SUBWF TEMP1,F
0139   1283 1303      00517     BANKSEL ADC_DB
013B   0830           00518     MOVF ADC_DB,W
013C   022C           00519     SUBWF TEMP1,W
013D   1C03           00520     BTFSS STATUS,C
013E   1605           00521     BSF PORTA,4
013F   1003           00522     BCF STATUS,C
                      00523 
                      00524 ;-------------------------------
                      00525 ; LED C0
0140   300A           00526     MOVLW .10
0141   02AC           00527     SUBWF TEMP1,F
0142   1283 1303      00528     BANKSEL ADC_DB
0144   0830           00529     MOVF ADC_DB,W
0145   022C           00530     SUBWF TEMP1,W
0146   1C03           00531     BTFSS STATUS,C
0147   1407           00532     BSF PORTC,0
0148   1003           00533     BCF STATUS,C
                      00534 
                      00535 ;-------------------------------
                      00536 ; LED C1
0149   300A           00537     MOVLW .10
014A   02AC           00538     SUBWF TEMP1,F
MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  16:57:53         PAGE 14


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

014B   1283 1303      00539     BANKSEL ADC_DB
014D   0830           00540     MOVF ADC_DB,W
014E   022C           00541     SUBWF TEMP1,W
014F   1C03           00542     BTFSS STATUS,C
0150   1487           00543     BSF PORTC,1
0151   1003           00544     BCF STATUS,C
                      00545 
                      00546 ;-------------------------------
                      00547 ; LED C2
0152   300A           00548     MOVLW .10
0153   02AC           00549     SUBWF TEMP1,F
0154   1283 1303      00550     BANKSEL ADC_DB
0156   0830           00551     MOVF ADC_DB,W
0157   022C           00552     SUBWF TEMP1,W
0158   1C03           00553     BTFSS STATUS,C
0159   1507           00554     BSF PORTC,2
015A   1003           00555     BCF STATUS,C
                      00556 
                      00557 ;-------------------------------
                      00558 ; LED MIN (C3)
015B   300A           00559     MOVLW .10
015C   02AC           00560     SUBWF TEMP1,F
015D   1283 1303      00561     BANKSEL ADC_DB
015F   0830           00562     MOVF ADC_DB,W
0160   022C           00563     SUBWF TEMP1,W
0161   1C03           00564     BTFSS STATUS,C
0162   1587           00565     BSF PORTC,3
0163   1003           00566     BCF STATUS,C
                      00567     
0164   0008           00568     RETURN
                      00569 
                      00570 ;==============================================================
                      00571 ; RUTINA MUESTREO (actualiza displays o salidas)
                      00572 ;==============================================================
0165                  00573 MUESTREO
                      00574     ; ===== DIGITO UNIDADES =====
0165   1283 1303      00575     BANKSEL PORTE
0167   1009           00576     BCF     PORTE,0
0168   1089           00577     BCF     PORTE,1
0169   1109           00578     BCF     PORTE,2
016A   1283 1303      00579     BANKSEL PORTA
016C   1685           00580     BSF     PORTA,5
                      00581     
016D   30??           00582     MOVLW HIGH TABLA_TECL   ; <<< cargar página
016E   008A           00583     MOVWF PCLATH
016F   0826           00584     MOVF    UNI,W
0170   2???           00585     CALL    TABLA_TECL
0171   018A           00586     CLRF    PCLATH          ; <<< restaurar
0172   0088           00587     MOVWF   PORTD
0173   2???           00588     CALL    DELAY_2ms
                      00589 
                      00590     ; ===== DIGITO DECENAS =====
0174   1283 1303      00591     BANKSEL PORTE
MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  16:57:53         PAGE 15


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0176   1009           00592     BCF     PORTE,0
0177   1089           00593     BCF     PORTE,1
0178   1509           00594     BSF     PORTE,2
0179   1283 1303      00595     BANKSEL PORTA
017B   1285           00596     BCF     PORTA,5
                      00597 
017C   30??           00598     MOVLW HIGH TABLA_TECL
017D   008A           00599     MOVWF PCLATH
017E   0827           00600     MOVF    DECS,W
017F   2???           00601     CALL    TABLA_TECL
0180   018A           00602     CLRF    PCLATH
0181   0088           00603     MOVWF   PORTD
0182   2???           00604     CALL    DELAY_2ms
                      00605 
                      00606     ; ===== DIGITO CENTENAS =====
0183   1283 1303      00607     BANKSEL PORTE
0185   1409           00608     BSF     PORTE,0
0186   1089           00609     BCF     PORTE,1
0187   1109           00610     BCF     PORTE,2
0188   1283 1303      00611     BANKSEL PORTA
018A   1285           00612     BCF     PORTA,5
                      00613 
018B   30??           00614     MOVLW HIGH TABLA_TECL
018C   008A           00615     MOVWF PCLATH
018D   0828           00616     MOVF    CEN,W
018E   2???           00617     CALL    TABLA_TECL
018F   018A           00618     CLRF    PCLATH
0190   0088           00619     MOVWF   PORTD
0191   2???           00620     CALL    DELAY_2ms
                      00621     
                      00622     ; ===== GUARDA (LETRA ?dE?) =====
0192   1283 1303      00623     BANKSEL PORTE
0194   1009           00624     BCF     PORTE,0
0195   1489           00625     BSF     PORTE,1
0196   1109           00626     BCF     PORTE,2
0197   1283 1303      00627     BANKSEL PORTA
0199   1285           00628     BCF     PORTA,5
                      00629 
019A   30DE           00630     MOVLW b'11011110'
019B   0088           00631     MOVWF PORTD
019C   2???           00632     CALL DELAY_2ms
                      00633     
Warning[203]: Found opcode in column 1. (RETURN)
019D   0008           00634 RETURN
                      00635 
                      00636 ;==============================================================
                      00637 ; TABLA DE CONVERSIÓN PARA MAX_dB
                      00638 ;==============================================================
019E                  00639 TABLA_MAXdB
019E   0782           00640     ADDWF PCL, F
019F   3432           00641     RETLW .50
01A0   3436           00642     RETLW .54
01A1   343A           00643     RETLW .58
MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  16:57:53         PAGE 16


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

01A2   343E           00644     RETLW .62   
01A3   3442           00645     RETLW .66
01A4   3446           00646     RETLW .70
01A5   344A           00647     RETLW .74
01A6   344E           00648     RETLW .78
01A7   3452           00649     RETLW .82
01A8   3456           00650     RETLW .86
01A9   345A           00651     RETLW .90
01AA   345E           00652     RETLW .94
01AB   3462           00653     RETLW .98
01AC   3469           00654     RETLW .105
01AD   346E           00655     RETLW .110
01AE   3473           00656     RETLW .115
                      00657 
                      00658 ;==============================================================
                      00659 ; TABLA DE CONVERSIÓN PARA DISPLAY 7 SEGMENTOS
                      00660 ;==============================================================
01AF                  00661 TABLA_TECL
01AF   0782           00662     ADDWF PCL,F
01B0   343F           00663     RETLW b'00111111'  ; 0
01B1   3406           00664     RETLW b'00000110'  ; 1
01B2   345B           00665     RETLW b'01011011'  ; 2
01B3   344F           00666     RETLW b'01001111'  ; 3
01B4   3466           00667     RETLW b'01100110'  ; 4
01B5   346D           00668     RETLW b'01101101'  ; 5
01B6   347D           00669     RETLW b'01111101'  ; 6
01B7   3407           00670     RETLW b'00000111'  ; 7
01B8   347F           00671     RETLW b'01111111'  ; 8
01B9   346F           00672     RETLW b'01101111'  ; 9
Warning[205]: Found directive in column 1. (END)
2FF1                  00673 END
MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  16:57:53         PAGE 17


SYMBOL TABLE
  LABEL                             VALUE 

ABDEN                             00000000
ABDOVF                            00000007
ACKDT                             00000005
ACKEN                             00000004
ACKSTAT                           00000006
ACQ_LOOP                          000000CD
ADCON0                            0000001F
ADCON1                            0000009F
ADCS0                             00000006
ADCS1                             00000007
ADC_DB                            00000030
ADC_READ                          000000CB
ADDEN                             00000003
ADFM                              00000007
ADIE                              00000006
ADIF                              00000006
ADON                              00000000
ADRESH                            0000001E
ADRESL                            0000009E
ANS0                              00000000
ANS1                              00000001
ANS10                             00000002
ANS11                             00000003
ANS12                             00000004
ANS13                             00000005
ANS2                              00000002
ANS3                              00000003
ANS4                              00000004
ANS5                              00000005
ANS6                              00000006
ANS7                              00000007
ANS8                              00000000
ANS9                              00000001
ANSEL                             00000188
ANSELH                            00000189
BAUDCTL                           00000187
BCLIE                             00000003
BCLIF                             00000003
BF                                00000000
BRG0                              00000000
BRG1                              00000001
BRG10                             00000002
BRG11                             00000003
BRG12                             00000004
BRG13                             00000005
BRG14                             00000006
BRG15                             00000007
BRG16                             00000003
BRG2                              00000002
BRG3                              00000003
BRG4                              00000004
BRG5                              00000005
BRG6                              00000006
MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  16:57:53         PAGE 18


SYMBOL TABLE
  LABEL                             VALUE 

BRG7                              00000007
BRG8                              00000000
BRG9                              00000001
BRGH                              00000002
C                                 00000000
C1CH0                             00000000
C1CH1                             00000001
C1IE                              00000005
C1IF                              00000005
C1OE                              00000005
C1ON                              00000007
C1OUT                             00000006
C1POL                             00000004
C1R                               00000002
C1RSEL                            00000005
C1SEN                             00000005
C2CH0                             00000000
C2CH1                             00000001
C2IE                              00000006
C2IF                              00000006
C2OE                              00000005
C2ON                              00000007
C2OUT                             00000006
C2POL                             00000004
C2R                               00000002
C2REN                             00000004
C2RSEL                            00000004
C2SYNC                            00000000
CCP1CON                           00000017
CCP1IE                            00000002
CCP1IF                            00000002
CCP1M0                            00000000
CCP1M1                            00000001
CCP1M2                            00000002
CCP1M3                            00000003
CCP1X                             00000005
CCP1Y                             00000004
CCP2CON                           0000001D
CCP2IE                            00000000
CCP2IF                            00000000
CCP2M0                            00000000
CCP2M1                            00000001
CCP2M2                            00000002
CCP2M3                            00000003
CCP2X                             00000005
CCP2Y                             00000004
CCPR1                             00000015
CCPR1H                            00000016
CCPR1L                            00000015
CCPR2                             0000001B
CCPR2H                            0000001C
CCPR2L                            0000001B
CEN                               00000028
MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  16:57:53         PAGE 19


SYMBOL TABLE
  LABEL                             VALUE 

CENT_LOOP                         00000110
CHS0                              00000002
CHS1                              00000003
CHS2                              00000004
CHS3                              00000005
CKE                               00000006
CKP                               00000004
CM1CON0                           00000107
CM2CON0                           00000108
CM2CON1                           00000109
CREN                              00000004
CSRC                              00000007
D                                 00000005
DATA_ADDRESS                      00000005
DC                                00000001
DC1B0                             00000004
DC1B1                             00000005
DC2B0                             00000004
DC2B1                             00000005
DECS                              00000027
DEC_LOOP                          00000118
DELAY1_20ms                       00000024
DELAY1_2ms                        00000022
DELAY2_20ms                       00000025
DELAY2_2ms                        00000023
DELAY_20ms                        000000C2
DELAY_2ms                         000000B8
D_A                               00000005
D_NOT_A                           00000005
ECCPAS                            0000009C
ECCPAS0                           00000004
ECCPAS1                           00000005
ECCPAS2                           00000006
ECCPASE                           00000007
EEADR                             0000010D
EEADRH                            0000010F
EECON1                            0000018C
EECON2                            0000018D
EEDAT                             0000010C
EEDATA                            0000010C
EEDATH                            0000010E
EEIE                              00000004
EEIF                              00000004
EEPGD                             00000007
F                                 00000001
FERR                              00000002
FIX_CENT                          00000116
FIX_DEC                           0000011E
FSR                               00000004
FVREN                             00000000
GCEN                              00000007
GIE                               00000007
GO                                00000001
MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  16:57:53         PAGE 20


SYMBOL TABLE
  LABEL                             VALUE 

GO_DONE                           00000001
GO_NOT_DONE                       00000001
HTS                               00000002
I2C_DATA                          00000005
I2C_READ                          00000002
I2C_START                         00000003
I2C_STOP                          00000004
INDEX                             0000002E
INDF                              00000000
INICIO                            00000005
INI_ADC                           
INI_INTER                         
INI_PORTA                         
INI_PORTB                         
INI_PORTC                         
INI_PORTD                         
INI_PORTE                         
INI_PUERTOS                       
INI_TECL                          
INI_UART                          
INTCON                            0000000B
INTE                              00000004
INTEDG                            00000006
INTF                              00000001
IOCB                              00000096
IOCB0                             00000000
IOCB1                             00000001
IOCB2                             00000002
IOCB3                             00000003
IOCB4                             00000004
IOCB5                             00000005
IOCB6                             00000006
IOCB7                             00000007
IRCF0                             00000004
IRCF1                             00000005
IRCF2                             00000006
IRP                               00000007
ISR_FIN                           000000B4
ISR_INICIO                        00000068
ISR_TECL                          00000029
LOOP1_20ms                        000000C4
LOOP1_2ms                         000000BA
LOOP2_20ms                        000000C6
LOOP2_2ms                         000000BC
LOOP_SENDADC                      000000FF
LTS                               00000001
MAIN_LOOP                         00000060
MAX_dB                            0000002B
MAXdB_COMP                        00000123
MAXdB_TRANS                       0000010A
MC1OUT                            00000007
MC2OUT                            00000006
MSK                               00000093
MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  16:57:53         PAGE 21


SYMBOL TABLE
  LABEL                             VALUE 

MSK0                              00000000
MSK1                              00000001
MSK2                              00000002
MSK3                              00000003
MSK4                              00000004
MSK5                              00000005
MSK6                              00000006
MSK7                              00000007
MUESTREO                          00000165
MUL_DONE                          000000F8
MUL_LOOP                          000000F1
NOT_A                             00000005
NOT_ADDRESS                       00000005
NOT_BO                            00000000
NOT_BOR                           00000000
NOT_DONE                          00000001
NOT_PD                            00000003
NOT_POR                           00000001
NOT_RBPU                          00000007
NOT_RC8                           00000006
NOT_T1SYNC                        00000002
NOT_TO                            00000004
NOT_TX8                           00000006
NOT_W                             00000002
NOT_WRITE                         00000002
NTECL                             0000002A
OERR                              00000001
OPTION_REG                        00000081
OSCCON                            0000008F
OSCTUNE                           00000090
OSFIE                             00000007
OSFIF                             00000007
OSTS                              00000003
P                                 00000004
P1M0                              00000006
P1M1                              00000007
PCL                               00000002
PCLATH                            0000000A
PCON                              0000008E
PDC0                              00000000
PDC1                              00000001
PDC2                              00000002
PDC3                              00000003
PDC4                              00000004
PDC5                              00000005
PDC6                              00000006
PEIE                              00000006
PEN                               00000002
PIE1                              0000008C
PIE2                              0000008D
PIR1                              0000000C
PIR2                              0000000D
PORTA                             00000005
MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  16:57:53         PAGE 22


SYMBOL TABLE
  LABEL                             VALUE 

PORTB                             00000006
PORTC                             00000007
PORTD                             00000008
PORTE                             00000009
PR2                               00000092
PRSEN                             00000007
PS0                               00000000
PS1                               00000001
PS2                               00000002
PSA                               00000003
PSSAC0                            00000002
PSSAC1                            00000003
PSSBD0                            00000000
PSSBD1                            00000001
PSTRCON                           0000009D
PULSR                             00000002
PULSS                             00000003
PWM1CON                           0000009B
R                                 00000002
RA0                               00000000
RA1                               00000001
RA2                               00000002
RA3                               00000003
RA4                               00000004
RA5                               00000005
RA6                               00000006
RA7                               00000007
RB0                               00000000
RB1                               00000001
RB2                               00000002
RB3                               00000003
RB4                               00000004
RB5                               00000005
RB6                               00000006
RB7                               00000007
RBIE                              00000003
RBIF                              00000000
RC0                               00000000
RC1                               00000001
RC2                               00000002
RC3                               00000003
RC4                               00000004
RC5                               00000005
RC6                               00000006
RC7                               00000007
RC8_9                             00000006
RC9                               00000006
RCD8                              00000000
RCEN                              00000003
RCIDL                             00000006
RCIE                              00000005
RCIF                              00000005
RCREG                             0000001A
MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  16:57:53         PAGE 23


SYMBOL TABLE
  LABEL                             VALUE 

RCSTA                             00000018
RD                                00000000
RD0                               00000000
RD1                               00000001
RD2                               00000002
RD3                               00000003
RD4                               00000004
RD5                               00000005
RD6                               00000006
RD7                               00000007
RE0                               00000000
RE1                               00000001
RE2                               00000002
RE3                               00000003
READ_WRITE                        00000002
RESTO                             0000002F
RP0                               00000005
RP1                               00000006
RSEN                              00000001
RX9                               00000006
RX9D                              00000000
R_NOT_W                           00000002
R_W                               00000002
S                                 00000003
SBOREN                            00000004
SCKP                              00000004
SCS                               00000000
SEN                               00000000
SENDB                             00000003
SEND_ADC                          000000FF
SMP                               00000007
SPBRG                             00000099
SPBRGH                            0000009A
SPEN                              00000007
SR0                               00000006
SR1                               00000007
SRCON                             00000185
SREN                              00000005
SSPADD                            00000093
SSPBUF                            00000013
SSPCON                            00000014
SSPCON2                           00000091
SSPEN                             00000005
SSPIE                             00000003
SSPIF                             00000003
SSPM0                             00000000
SSPM1                             00000001
SSPM2                             00000002
SSPM3                             00000003
SSPMSK                            00000093
SSPOV                             00000006
SSPSTAT                           00000094
STATUS                            00000003
MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  16:57:53         PAGE 24


SYMBOL TABLE
  LABEL                             VALUE 

STATUS_TEMP                       00000021
STRA                              00000000
STRB                              00000001
STRC                              00000002
STRD                              00000003
STRSYNC                           00000004
SWDTEN                            00000000
SYNC                              00000004
T0CS                              00000005
T0IE                              00000005
T0IF                              00000002
T0SE                              00000004
T1CKPS0                           00000004
T1CKPS1                           00000005
T1CON                             00000010
T1GINV                            00000007
T1GIV                             00000007
T1GSS                             00000001
T1INSYNC                          00000002
T1OSCEN                           00000003
T1SYNC                            00000002
T2CKPS0                           00000000
T2CKPS1                           00000001
T2CON                             00000012
TABLA_MAXdB                       0000019E
TABLA_TECL                        000001AF
TECL_DELAYC1                      00000085
TECL_DELAYC2                      0000008A
TECL_DELAYC3                      0000008F
TECL_DELAYC4                      00000094
TECL_LOAD                         00000099
TECL_RES                          000000A3
TEMP1                             0000002C
TEMP2                             0000002D
TEST_COL                          00000072
TEST_FIL                          0000007F
TMR0                              00000001
TMR0IE                            00000005
TMR0IF                            00000002
TMR1                              0000000E
TMR1CS                            00000001
TMR1GE                            00000006
TMR1H                             0000000F
TMR1IE                            00000000
TMR1IF                            00000000
TMR1L                             0000000E
TMR1ON                            00000000
TMR2                              00000011
TMR2IE                            00000001
TMR2IF                            00000001
TMR2ON                            00000002
TOUTPS0                           00000003
TOUTPS1                           00000004
MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  16:57:53         PAGE 25


SYMBOL TABLE
  LABEL                             VALUE 

TOUTPS2                           00000005
TOUTPS3                           00000006
TRANS_ADC_DB                      000000D8
TRISA                             00000085
TRISA0                            00000000
TRISA1                            00000001
TRISA2                            00000002
TRISA3                            00000003
TRISA4                            00000004
TRISA5                            00000005
TRISA6                            00000006
TRISA7                            00000007
TRISB                             00000086
TRISB0                            00000000
TRISB1                            00000001
TRISB2                            00000002
TRISB3                            00000003
TRISB4                            00000004
TRISB5                            00000005
TRISB6                            00000006
TRISB7                            00000007
TRISC                             00000087
TRISC0                            00000000
TRISC1                            00000001
TRISC2                            00000002
TRISC3                            00000003
TRISC4                            00000004
TRISC5                            00000005
TRISC6                            00000006
TRISC7                            00000007
TRISD                             00000088
TRISD0                            00000000
TRISD1                            00000001
TRISD2                            00000002
TRISD3                            00000003
TRISD4                            00000004
TRISD5                            00000005
TRISD6                            00000006
TRISD7                            00000007
TRISE                             00000089
TRISE0                            00000000
TRISE1                            00000001
TRISE2                            00000002
TRISE3                            00000003
TRMT                              00000001
TUN0                              00000000
TUN1                              00000001
TUN2                              00000002
TUN3                              00000003
TUN4                              00000004
TX8_9                             00000006
TX9                               00000006
TX9D                              00000000
MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  16:57:53         PAGE 26


SYMBOL TABLE
  LABEL                             VALUE 

TXD8                              00000000
TXEN                              00000005
TXIE                              00000004
TXIF                              00000004
TXREG                             00000019
TXSTA                             00000098
UA                                00000001
ULPWUE                            00000005
ULPWUIE                           00000002
ULPWUIF                           00000002
UNI                               00000026
VCFG0                             00000004
VCFG1                             00000005
VR0                               00000000
VR1                               00000001
VR2                               00000002
VR3                               00000003
VRCON                             00000097
VREN                              00000007
VROE                              00000006
VRR                               00000005
VRSS                              00000004
W                                 00000000
WAIT_ADC                          000000D2
WAIT_RELEASE                      000000A7
WCOL                              00000007
WDTCON                            00000105
WDTPS0                            00000001
WDTPS1                            00000002
WDTPS2                            00000003
WDTPS3                            00000004
WPUB                              00000095
WPUB0                             00000000
WPUB1                             00000001
WPUB2                             00000002
WPUB3                             00000003
WPUB4                             00000004
WPUB5                             00000005
WPUB6                             00000006
WPUB7                             00000007
WR                                00000001
WREN                              00000002
WRERR                             00000003
WUE                               00000001
W_TEMP                            00000020
Z                                 00000002
_BOR21V                           00003EFF
_BOR40V                           00003FFF
_BOR4V_BOR21V                     00003EFF
_BOR4V_BOR40V                     00003FFF
_BOREN_NSLEEP                     00003EFF
_BOREN_OFF                        00003CFF
_BOREN_ON                         00003FFF
MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  16:57:53         PAGE 27


SYMBOL TABLE
  LABEL                             VALUE 

_BOREN_SBODEN                     00003DFF
_BOR_NSLEEP                       00003EFF
_BOR_OFF                          00003CFF
_BOR_ON                           00003FFF
_BOR_SBODEN                       00003DFF
_CONFIG1                          00002007
_CONFIG2                          00002008
_CPD_OFF                          00003FFF
_CPD_ON                           00003F7F
_CP_OFF                           00003FFF
_CP_ON                            00003FBF
_DEBUG_OFF                        00003FFF
_DEBUG_ON                         00001FFF
_DEVID1                           00002006
_EC_OSC                           00003FFB
_EXTRC                            00003FFF
_EXTRCIO                          00003FFE
_EXTRC_OSC_CLKOUT                 00003FFF
_EXTRC_OSC_NOCLKOUT               00003FFE
_FCMEN_OFF                        000037FF
_FCMEN_ON                         00003FFF
_FOSC_EC                          00003FFB
_FOSC_EXTRC_CLKOUT                00003FFF
_FOSC_EXTRC_NOCLKOUT              00003FFE
_FOSC_HS                          00003FFA
_FOSC_INTRC_CLKOUT                00003FFD
_FOSC_INTRC_NOCLKOUT              00003FFC
_FOSC_LP                          00003FF8
_FOSC_XT                          00003FF9
_HS_OSC                           00003FFA
_IDLOC0                           00002000
_IDLOC1                           00002001
_IDLOC2                           00002002
_IDLOC3                           00002003
_IESO_OFF                         00003BFF
_IESO_ON                          00003FFF
_INTOSC                           00003FFD
_INTOSCIO                         00003FFC
_INTRC_OSC_CLKOUT                 00003FFD
_INTRC_OSC_NOCLKOUT               00003FFC
_LP_OSC                           00003FF8
_LVP_OFF                          00002FFF
_LVP_ON                           00003FFF
_MCLRE_OFF                        00003FDF
_MCLRE_ON                         00003FFF
_PWRTE_OFF                        00003FFF
_PWRTE_ON                         00003FEF
_WDTE_OFF                         00003FF7
_WDTE_ON                          00003FFF
_WDT_OFF                          00003FF7
_WDT_ON                           00003FFF
_WRT_1FOURTH                      00003BFF
_WRT_256                          00003DFF
MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  16:57:53         PAGE 28


SYMBOL TABLE
  LABEL                             VALUE 

_WRT_HALF                         000039FF
_WRT_OFF                          00003FFF
_XT_OSC                           00003FF9
__16F887                          00000001
    RETURN                        000000CB

Errors   :     0
Warnings :    32 reported,     0 suppressed
Messages :    29 reported,     0 suppressed

