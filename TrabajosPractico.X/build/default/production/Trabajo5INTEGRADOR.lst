MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  17:17:28         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001 ;*** Directivas de Inclusión ***    
Warning[205]: Found directive in column 1. (LIST)
                      00002 LIST P=16F887                
                      00003 #include "p16f887.inc"
                      00001         LIST
                      00002 
                      00003 ;==========================================================================
                      00004 ; Build date : Jul 23 2018
                      00005 ;  MPASM PIC16F887 processor include
                      00006 ; 
                      00007 ;  (c) Copyright 1999-2018 Microchip Technology, All rights reserved
                      00008 ;==========================================================================
                      00009 
                      00810         LIST
                      00004 
                      00005 ;**** Configuración General ****    
Warning[205]: Found directive in column 1. (__CONFIG)
2007   2FF1           00006 __CONFIG _CONFIG1, _XT_OSC & _WDTE_OFF & _MCLRE_ON & _LVP_OFF    
                      00007     
                      00008 ;**** Definición de Variables ****
Warning[205]: Found directive in column 1. (CBLOCK)
                      00009 CBLOCK 0x20
  00000020            00010     W_TEMP         
  00000021            00011     STATUS_TEMP     
  00000022            00012     DELAY1_2ms
  00000023            00013     DELAY2_2ms
  00000024            00014     DELAY1_20ms
  00000025            00015     DELAY2_20ms
  00000026            00016     UNI
  00000027            00017     DECS
  00000028            00018     CEN
  00000029            00019     ISR_TECL
  0000002A            00020     NTECL
  0000002B            00021     MAX_dB
  0000002C            00022     TEMP1
  0000002D            00023     TEMP2
  0000002E            00024     INDEX
  0000002F            00025     RESTO
  00000030            00026     ADC_DB    
Warning[205]: Found directive in column 1. (ENDC)
                      00027 ENDC  
                      00028 
                      00029 ;*** Vectores de Reset e Interrupción ***
Warning[205]: Found directive in column 1. (ORG)
                      00030 ORG 0x00
Warning[203]: Found opcode in column 1. (GOTO)
0000   2???           00031 GOTO INICIO
Warning[205]: Found directive in column 1. (ORG)
                      00032 ORG 0x04
Warning[203]: Found opcode in column 1. (GOTO)
0004   2???           00033 GOTO ISR_INICIO   
                      00034 
                      00035     
MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  17:17:28         PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00036 ;==============================================================
                      00037 ; DEFINICION DE MACROS
                      00038 ;==============================================================
                      00039 INI_PORTB MACRO
                      00040   BANKSEL ANSELH
                      00041   CLRF    ANSELH                 ; PORTB digital
                      00042   BANKSEL TRISB
                      00043   MOVLW b'11110000'         ; RB7-RB4 = entradas (columnas), RB3-RB0 = salidas (filas)
                      00044   MOVWF TRISB
Warning[205]: Found directive in column 1. (ENDM)
                      00045 ENDM
                      00046   
                      00047 INI_PORTE MACRO
                      00048    BANKSEL ANSEL
                      00049    BCF      ANSEL,5
                      00050    BCF      ANSEL,6
                      00051    BCF      ANSEL,7 ;PORTE digital
                      00052    BANKSEL  TRISE
                      00053    BCF      TRISE,0
                      00054    BCF      TRISE,1
                      00055    BCF      TRISE,2 ;PORTE salidas
Warning[205]: Found directive in column 1. (ENDM)
                      00056 ENDM
                      00057    
                      00058 INI_PORTD MACRO
                      00059    BANKSEL  TRISD
                      00060    CLRF     TRISD ;PORTD salida, no tiene ANSEL, solo digital
Warning[205]: Found directive in column 1. (ENDM)
                      00061 ENDM
                      00062    
                      00063 INI_PORTC MACRO
                      00064     BANKSEL TRISC
                      00065     BCF     TRISC,0
                      00066     BCF     TRISC,1
                      00067     BCF     TRISC,2
                      00068     BCF     TRISC,3
                      00069     BCF     TRISC,6     ; RC6 como salida para TX
Warning[205]: Found directive in column 1. (ENDM)
                      00070 ENDM
                      00071     
                      00072 INI_PORTA MACRO
                      00073     BANKSEL ANSEL
                      00074     BCF     ANSEL,2
                      00075     BCF     ANSEL,4
                      00076     BANKSEL TRISA
                      00077     BCF     TRISA,2
                      00078     BCF     TRISA,4
                      00079     BCF     TRISA,5
Warning[205]: Found directive in column 1. (ENDM)
                      00080 ENDM
                      00081     
                      00082 INI_TECL MACRO
                      00083    BANKSEL OPTION_REG
MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  17:17:28         PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00084    BCF OPTION_REG,7           ; Habilita pull-ups en PORTB (RBPU=0)
                      00085    BANKSEL IOCB
                      00086    MOVLW b'11110000'          ; Habilita cambio en RB7?RB4
                      00087    MOVWF IOCB
Warning[205]: Found directive in column 1. (ENDM)
                      00088 ENDM
                      00089    
                      00090 INI_PUERTOS MACRO
                      00091    BANKSEL PORTB
                      00092    CLRF PORTA
                      00093    CLRF PORTC
                      00094    CLRF PORTE
                      00095    CLRF PORTB
                      00096    CLRF PORTD
                      00097    CLRF NTECL
                      00098    CLRF UNI
                      00099    CLRF DECS
                      00100    CLRF CEN
                      00101    CLRF ADC_DB
                      00102    MOVLW    .114
                      00103    MOVWF    MAX_dB
Warning[205]: Found directive in column 1. (ENDM)
                      00104 ENDM
                      00105 
                      00106 INI_UART MACRO
                      00107    BANKSEL TXSTA
                      00108    BSF     TXSTA, TXEN      ; Transmisión habilitada
                      00109    BCF     TXSTA, SYNC      ; Modo asíncrono (comparten clock)
                      00110    BSF     TXSTA, BRGH      ; Alta velocidad
                      00111    BANKSEL BAUDCTL
                      00112    BCF     BAUDCTL, BRG16   ; Generador de Baudrate de 8 bits
                      00113    BANKSEL SPBRG
                      00114    MOVLW   D'25'            ; 9600 baudios con 4MHz ---> Fosc / (16 × (SPBRG + 1)) --> SPBRG = (4,000,00
                            0 / 153,600) - 1 ? 25
                      00115    MOVWF   SPBRG    
                      00116    BANKSEL RCSTA
                      00117    BSF     RCSTA, SPEN      ; Habilita todo el puerto serial (UART)
Warning[205]: Found directive in column 1. (ENDM)
                      00118 ENDM
                      00119 
                      00120 INI_INTER  MACRO
                      00121    BANKSEL INTCON
                      00122    BCF INTCON, RBIF      ; Limpia bandera anterior
                      00123    MOVF PORTB, W         ; Lectura obligatoria para armar el latch
                      00124    BSF INTCON, RBIE       ; Habilita interrupción en cambio de RB
                      00125    BSF INTCON, GIE        ; Habilita interrupciones globales
Warning[205]: Found directive in column 1. (ENDM)
                      00126 ENDM
                      00127 
                      00128 INI_ADC MACRO
                      00129     ; HABILITAR AN0 COMO ANALOGICO
                      00130     BANKSEL ANSEL
                      00131     BSF     ANSEL,0 ; RA0 analógico
MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  17:17:28         PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00132     BSF     ANSEL,3
                      00133 
                      00134     ; RA0 como entrada
                      00135     BANKSEL TRISA
                      00136     BSF     TRISA,0
                      00137     BSF     TRISA,3
                      00138 
                      00139     ; ADCON1 CONFIGURA REFERENCIAS
                      00140     BANKSEL ADCON1
                      00141     MOVLW   b'00010000'        ; Vref = Vdd/Vss
                      00142     MOVWF   ADCON1
                      00143     
                      00144     ; ADCON0 CONFIGURA CANAL Y CLOCK
                      00145     BANKSEL ADCON0
                      00146     MOVLW   b'10000001'        ; ADCS=10 (Fosc/32), CHS=000 (AN0), ADON=1
                      00147     MOVWF   ADCON0
Warning[205]: Found directive in column 1. (ENDM)
                      00148 ENDM
                      00149 
                      00150 ;==============================================================
                      00151 ; PROGRAMA PRINCIPAL
                      00152 ;==============================================================
0005                  00153 INICIO   
Warning[206]: Found call to macro in column 1. (INI_PUERTOS)
                      00154 INI_PUERTOS
0005   1283 1303          M    BANKSEL PORTB
0007   0185               M    CLRF PORTA
0008   0187               M    CLRF PORTC
0009   0189               M    CLRF PORTE
000A   0186               M    CLRF PORTB
000B   0188               M    CLRF PORTD
000C   01AA               M    CLRF NTECL
000D   01A6               M    CLRF UNI
000E   01A7               M    CLRF DECS
000F   01A8               M    CLRF CEN
0010   01B0               M    CLRF ADC_DB
0011   3072               M    MOVLW    .114
0012   00AB               M    MOVWF    MAX_dB
Warning[206]: Found call to macro in column 1. (INI_PORTB)
                      00155 INI_PORTB
0013   1683 1703          M   BANKSEL ANSELH
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0015   0189               M   CLRF    ANSELH                 ; PORTB digital
0016   1683 1303          M   BANKSEL TRISB
0018   30F0               M   MOVLW b'11110000'         ; RB7-RB4 = entradas (columnas), RB3-RB0 = salidas (filas)
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0019   0086               M   MOVWF TRISB
Warning[206]: Found call to macro in column 1. (INI_PORTE)
                      00156 INI_PORTE
001A   1683 1703          M    BANKSEL ANSEL
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
001C   1288               M    BCF      ANSEL,5
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  17:17:28         PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

001D   1308               M    BCF      ANSEL,6
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
001E   1388               M    BCF      ANSEL,7 ;PORTE digital
001F   1683 1303          M    BANKSEL  TRISE
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0021   1009               M    BCF      TRISE,0
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0022   1089               M    BCF      TRISE,1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0023   1109               M    BCF      TRISE,2 ;PORTE salidas
Warning[206]: Found call to macro in column 1. (INI_PORTA)
                      00157 INI_PORTA
0024   1683 1703          M     BANKSEL ANSEL
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0026   1108               M     BCF     ANSEL,2
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0027   1208               M     BCF     ANSEL,4
0028   1683 1303          M     BANKSEL TRISA
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
002A   1105               M     BCF     TRISA,2
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
002B   1205               M     BCF     TRISA,4
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
002C   1285               M     BCF     TRISA,5
Warning[206]: Found call to macro in column 1. (INI_PORTC)
                      00158 INI_PORTC
002D   1683 1303          M     BANKSEL TRISC
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
002F   1007               M     BCF     TRISC,0
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0030   1087               M     BCF     TRISC,1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0031   1107               M     BCF     TRISC,2
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0032   1187               M     BCF     TRISC,3
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0033   1307               M     BCF     TRISC,6     ; RC6 como salida para TX
Warning[206]: Found call to macro in column 1. (INI_PORTD)
                      00159 INI_PORTD
0034   1683 1303          M    BANKSEL  TRISD
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0036   0188               M    CLRF     TRISD ;PORTD salida, no tiene ANSEL, solo digital
Warning[206]: Found call to macro in column 1. (INI_TECL)
                      00160 INI_TECL
0037   1683 1303          M    BANKSEL OPTION_REG
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0039   1381               M    BCF OPTION_REG,7           ; Habilita pull-ups en PORTB (RBPU=0)
003A   1683 1303          M    BANKSEL IOCB
003C   30F0               M    MOVLW b'11110000'          ; Habilita cambio en RB7?RB4
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
003D   0096               M    MOVWF IOCB
Warning[206]: Found call to macro in column 1. (INI_UART)
                      00161 INI_UART        
MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  17:17:28         PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

003E   1683 1303          M    BANKSEL TXSTA
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0040   1698               M    BSF     TXSTA, TXEN      ; Transmisión habilitada
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0041   1218               M    BCF     TXSTA, SYNC      ; Modo asíncrono (comparten clock)
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0042   1518               M    BSF     TXSTA, BRGH      ; Alta velocidad
0043   1683 1703          M    BANKSEL BAUDCTL
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0045   1187               M    BCF     BAUDCTL, BRG16   ; Generador de Baudrate de 8 bits
0046   1683 1303          M    BANKSEL SPBRG
0048   3019               M    MOVLW   D'25'            ; 9600 baudios con 4MHz ---> Fosc / (16 × (SPBRG + 1)) --> SPBRG = (4,000,00
                            0 / 153,600) - 1 ? 25
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0049   0099               M    MOVWF   SPBRG    
004A   1283 1303          M    BANKSEL RCSTA
004C   1798               M    BSF     RCSTA, SPEN      ; Habilita todo el puerto serial (UART)
Warning[206]: Found call to macro in column 1. (INI_ADC)
                      00162 INI_ADC
                          M     ; HABILITAR AN0 COMO ANALOGICO
004D   1683 1703          M     BANKSEL ANSEL
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
004F   1408               M     BSF     ANSEL,0 ; RA0 analógico
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0050   1588               M     BSF     ANSEL,3
                          M 
                          M     ; RA0 como entrada
0051   1683 1303          M     BANKSEL TRISA
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0053   1405               M     BSF     TRISA,0
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0054   1585               M     BSF     TRISA,3
                          M 
                          M     ; ADCON1 CONFIGURA REFERENCIAS
0055   1683 1303          M     BANKSEL ADCON1
0057   3010               M     MOVLW   b'00010000'        ; Vref = Vdd/Vss
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0058   009F               M     MOVWF   ADCON1
                          M     
                          M     ; ADCON0 CONFIGURA CANAL Y CLOCK
0059   1283 1303          M     BANKSEL ADCON0
005B   3081               M     MOVLW   b'10000001'        ; ADCS=10 (Fosc/32), CHS=000 (AN0), ADON=1
005C   009F               M     MOVWF   ADCON0
Warning[206]: Found call to macro in column 1. (INI_INTER)
                      00163 INI_INTER
005D   1283 1303          M    BANKSEL INTCON
005F   100B               M    BCF INTCON, RBIF      ; Limpia bandera anterior
0060   0806               M    MOVF PORTB, W         ; Lectura obligatoria para armar el latch
0061   158B               M    BSF INTCON, RBIE       ; Habilita interrupción en cambio de RB
0062   178B               M    BSF INTCON, GIE        ; Habilita interrupciones globales
                      00164 
0063                  00165 MAIN_LOOP
0063   2???           00166     CALL ADC_READ
MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  17:17:28         PAGE  7


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0064   2???           00167     CALL TRANS_ADC_DB
0065   2???           00168     CALL MAXdB_TRANS
0066   2???           00169     CALL MAXdB_COMP
0067   2???           00170     CALL MUESTREO
0068   2???           00171     CALL SEND_ADC
0069   0000           00172     NOP
006A   2???           00173     GOTO MAIN_LOOP
                      00174 
                      00175 ;==============================================================
                      00176 ; RUTINA DE INTERRUPCIÓN
                      00177 ;==============================================================
006B                  00178 ISR_INICIO    
006B   00A0           00179     MOVWF   W_TEMP
006C   0803           00180     MOVF    STATUS,W
006D   00A1           00181     MOVWF   STATUS_TEMP         ;Guardamos contexto
006E   1C0B           00182     BTFSS   INTCON,RBIF         ;si hubo interrupcion Salta a CLRF NTECL
006F   2???           00183     GOTO    ISR_FIN
0070   01AA           00184     CLRF    NTECL              
0071   300E           00185     MOVLW   b'00001110'        ; Activa primera fila
0072   0086           00186     MOVWF   PORTB
0073   2???           00187     CALL    DELAY_20ms          ; *** DELAY PARA ESTABILIZAR ***
0074   2???           00188     GOTO    TEST_COL
                      00189 
                      00190 ;--------------------------------------------------------------
                      00191 ; Detecta columna activa
                      00192 ;--------------------------------------------------------------
0075                  00193 TEST_COL
0075   1E06           00194     BTFSS   PORTB,4            
0076   2???           00195     GOTO    TECL_DELAYC1
0077   0AAA           00196     INCF    NTECL,F            
                      00197     
0078   1E86           00198     BTFSS   PORTB,5            
0079   2???           00199     GOTO    TECL_DELAYC2
007A   0AAA           00200     INCF    NTECL,F            
                      00201     
007B   1F06           00202     BTFSS   PORTB,6            
007C   2???           00203     GOTO    TECL_DELAYC3
007D   0AAA           00204     INCF    NTECL,F            
                      00205     
007E   1F86           00206     BTFSS   PORTB,7            
007F   2???           00207     GOTO    TECL_DELAYC4
                      00208     
0080   0AAA           00209     INCF    NTECL,F            
0081   2???           00210     GOTO    TEST_FIL
                      00211 
                      00212 ;--------------------------------------------------------------
                      00213 ; Cambia fila activa para seguir buscando tecla
                      00214 ;--------------------------------------------------------------
0082                  00215 TEST_FIL
0082   1D86           00216     BTFSS   PORTB,RB3            
0083   2???           00217     GOTO    TECL_RES           
                      00218     
0084   1403           00219     BSF     STATUS,C
MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  17:17:28         PAGE  8


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0085   0D86           00220     RLF     PORTB,F            
0086   2???           00221     CALL    DELAY_20ms          ; *** DELAY DESPUÉS DE CAMBIAR FILA ***
0087   2???           00222     GOTO    TEST_COL
                      00223 
                      00224 ;--------------------------------------------------------------
                      00225 ; Detecta qué columna se activó y verifica tecla
                      00226 ;--------------------------------------------------------------
0088                  00227 TECL_DELAYC1
0088   2???           00228     CALL    DELAY_20ms
0089   2???           00229     CALL    DELAY_20ms
008A   1E06           00230     BTFSS   PORTB,4             
008B   2???           00231     GOTO    TECL_LOAD
008C   2???           00232     GOTO    TECL_RES
                      00233 
008D                  00234 TECL_DELAYC2
008D   2???           00235     CALL    DELAY_20ms
008E   2???           00236     CALL    DELAY_20ms
008F   1E86           00237     BTFSS   PORTB,5
0090   2???           00238     GOTO    TECL_LOAD
0091   2???           00239     GOTO    TECL_RES
                      00240 
0092                  00241 TECL_DELAYC3
0092   2???           00242     CALL    DELAY_20ms
0093   2???           00243     CALL    DELAY_20ms
0094   1F06           00244     BTFSS   PORTB,6
0095   2???           00245     GOTO    TECL_LOAD
0096   2???           00246     GOTO    TECL_RES
                      00247 
0097                  00248 TECL_DELAYC4
0097   2???           00249     CALL    DELAY_20ms
0098   2???           00250     CALL    DELAY_20ms
0099   1F86           00251     BTFSS   PORTB,7
009A   2???           00252     GOTO    TECL_LOAD
009B   2???           00253     GOTO    TECL_RES
                      00254 
                      00255 ;--------------------------------------------------------------
                      00256 ; Guarda valor según la tecla detectada (1 a 16)
                      00257 ;--------------------------------------------------------------
009C                  00258 TECL_LOAD
009C   082A           00259     MOVF    NTECL,W
009D   390F           00260     ANDLW   0x0F            ; Limita a 0-15
009E   00AC           00261     MOVWF   TEMP1           ; Guarda temporalmente
                      00262     
                      00263     ; Configurar PCLATH
009F   30??           00264     MOVLW   HIGH TABLA_MAXdB    ;Cargo en W el byte mas alto de tabla max
00A0   008A           00265     MOVWF   PCLATH              ;Lo guardo en PCLATH para usarlo cuando se haga la asignacion en el PCL 
                            de la tabla
                      00266         
00A1   082C           00267     MOVF    TEMP1,W
00A2   2???           00268     CALL    TABLA_MAXdB
00A3   00AB           00269     MOVWF   MAX_dB              ;Guardo el valor de la tecla presionada
                      00270     
                      00271     ; Restaurar PCLATH
MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  17:17:28         PAGE  9


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00A4   018A           00272     CLRF    PCLATH              ;limpio el PCLATH para que no me afecte en otras partes del programa
00A5   2???           00273     GOTO    TECL_RES            
                      00274 ;--------------------------------------------------------------
                      00275 ; Limpieza final de interrupción
                      00276 ;--------------------------------------------------------------
00A6                  00277 TECL_RES
                      00278     ; *** ACTIVAR TODAS LAS FILAS PARA DETECTAR LIBERACIÓN ***
00A6   300F           00279     MOVLW   b'00001111'         ; Activa todas las filas
00A7   0086           00280     MOVWF   PORTB
00A8   0000           00281     NOP 
00A9   0000           00282     NOP
                      00283     
00AA                  00284 WAIT_RELEASE
00AA   30F0           00285     MOVLW   b'11110000'
00AB   0506           00286     ANDWF   PORTB,W             ;Me quedo con RB4?RB7 solamente (me quedo con las filas)
00AC   3CF0           00287     SUBLW   b'11110000'         
00AD   1D03           00288     BTFSS   STATUS,Z            ;si Z=0 entonces hay una tecla presionada
00AE   2???           00289     GOTO    WAIT_RELEASE        ;repito hasta que no haya ninguna tecla presionada  
00AF   01AA           00290     CLRF    NTECL        
00B0   3000           00291     MOVLW   b'00000000'         ; Desactiva todas las filas
00B1   0086           00292     MOVWF   PORTB
00B2   0000           00293     NOP
00B3   0000           00294     NOP
00B4   0806           00295     MOVF    PORTB,W             ; Lectura para limpiar mismatch
00B5   100B           00296     BCF     INTCON,RBIF
00B6   2???           00297     GOTO    ISR_FIN
                      00298 
                      00299 ;--------------------------------------------------------------
                      00300 ; Restaura registros y sale de interrupción
                      00301 ;--------------------------------------------------------------
00B7                  00302 ISR_FIN
00B7   0821           00303     MOVF    STATUS_TEMP,W
00B8   0083           00304     MOVWF   STATUS
00B9   0820           00305     MOVF    W_TEMP,W
00BA   0009           00306     RETFIE
                      00307 ;==============================================================
                      00308 ; DELAYS
                      00309 ;==============================================================
00BB                  00310 DELAY_2ms
00BB   3050           00311     MOVLW   D'80'         
00BC   00A2           00312     MOVWF   DELAY1_2ms
00BD                  00313 LOOP1_2ms
00BD   3008           00314     MOVLW   D'8'          
00BE   00A3           00315     MOVWF   DELAY2_2ms
00BF                  00316 LOOP2_2ms
00BF   0000           00317     NOP
00C0   0BA3           00318     DECFSZ  DELAY2_2ms, F
00C1   2???           00319     GOTO    LOOP2_2ms
00C2   0BA2           00320     DECFSZ  DELAY1_2ms, F
00C3   2???           00321     GOTO    LOOP1_2ms
00C4   0008           00322     RETURN
                      00323 
00C5                  00324 DELAY_20ms
MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  17:17:28         PAGE 10


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00C5   3050           00325     MOVLW   D'80'          
00C6   00A4           00326     MOVWF   DELAY1_20ms
00C7                  00327 LOOP1_20ms
00C7   3050           00328     MOVLW   D'80'          
00C8   00A5           00329     MOVWF   DELAY2_20ms
00C9                  00330 LOOP2_20ms
00C9   0000           00331     NOP
00CA   0BA5           00332     DECFSZ  DELAY2_20ms, F
00CB   2???           00333     GOTO    LOOP2_20ms
00CC   0BA4           00334     DECFSZ  DELAY1_20ms, F
00CD   2???           00335     GOTO    LOOP1_20ms
00CE                  00336     RETURN
                      00337 ;==============================================================
                      00338 ; RUTINA ADC (actualiza ADC)
                      00339 ;==============================================================
00CE                  00340 ADC_READ
                      00341     ; ESPERA DE ADQUISICION (TACQ >= 20us)
00CE   3032           00342     MOVLW   D'50'              ; se carga el 50 para generar un retardo para estabilizar la muestra en e
                            l capacitor ~ 20us
00CF   00AC           00343     MOVWF   TEMP1
00D0                  00344 ACQ_LOOP
00D0   0BAC           00345         DECFSZ  TEMP1,F         ;Decremento hasta que sea 0, (espero 50microsegundos)
00D1   2???           00346         GOTO    ACQ_LOOP
                      00347         
                      00348         ; COMENZAR CONVERSION
00D2   1283 1303      00349         BANKSEL ADCON0
00D4   149F           00350         BSF     ADCON0,GO_DONE
                      00351 
00D5                  00352 WAIT_ADC
00D5   189F           00353         BTFSC   ADCON0,GO_DONE
00D6   2???           00354         GOTO    WAIT_ADC
                      00355 
00D7   1283 1303      00356         BANKSEL ADRESH
00D9   081E           00357         MOVF    ADRESH,W           ; LECTURA (JUSTIF IZQ)
00DA   0008           00358         RETURN
                      00359         
                      00360 ; ============================================================
                      00361 ;  TRANS_ADC_DB
                      00362 ;  Convierte ADRESH (0?255) -> ADC_DB (0?120 dB)
                      00363 ;  Usa tabla + interpolación discreta.
                      00364 ;
                      00365 ;  REGISTROS USADOS:  TEMP1, TEMP2, INDEX, RESTO
                      00366 ; ============================================================
                      00367 
                      00368 
00DB                  00369 TRANS_ADC_DB
                      00370     ; -------- copiar ADC --------
00DB   1283 1303      00371     BANKSEL ADRESH
00DD   081E           00372     MOVF    ADRESH,W
00DE   00AC           00373     MOVWF   TEMP1              ; TEMP1 = ADC (0?255)
                      00374 
                      00375     ; -------- índice = ADC/16 --------
00DF   082C           00376     MOVF    TEMP1,W
MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  17:17:28         PAGE 11


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00E0   39F0           00377     ANDLW   0xF0               ; deja nibble alto
00E1   00AE           00378     MOVWF   INDEX              ; INDEX = nibble alto
00E2   0EAE           00379     SWAPF   INDEX,F            ; lo pasa a nibble bajo
                      00380 
                      00381     ; -------- resto = ADC % 16 --------
00E3   082C           00382     MOVF    TEMP1,W
00E4   390F           00383     ANDLW   0x0F
00E5   00AF           00384     MOVWF   RESTO
                      00385 
                      00386     ; -------- cargar tabla[index] --------
00E6   30??           00387     MOVLW   HIGH TABLA_MAXdB
00E7   008A           00388     MOVWF   PCLATH
                      00389 
00E8   082E           00390     MOVF    INDEX,W
00E9   2???           00391     CALL    TABLA_MAXdB
00EA   00B0           00392     MOVWF   ADC_DB             ; valor base
                      00393 
                      00394     ; -------- delta = tabla[index+1] - tabla[index] --------
00EB   0AAE           00395     INCF    INDEX,F            ; índice siguiente
00EC   082E           00396     MOVF    INDEX,W
00ED   2???           00397     CALL    TABLA_MAXdB
00EE   00AC           00398     MOVWF   TEMP1              ; TEMP1 = tabla[i+1]
                      00399 
00EF   03AE           00400     DECF    INDEX,F
00F0   082E           00401     MOVF    INDEX,W
00F1   2???           00402     CALL    TABLA_MAXdB
00F2   02AC           00403     SUBWF   TEMP1,F            ; TEMP1 = delta
                      00404 
                      00405     ; ahora:
                      00406     ;   TEMP1 = delta
                      00407     ;   RESTO = resto 0?15
                      00408 
                      00409     ; -------- interpolación (delta * resto) --------
00F3   01AD           00410     CLRF    TEMP2              ; acumulador = 0
                      00411 
00F4                  00412 MUL_LOOP
00F4   08AF           00413     MOVF    RESTO,F
00F5   1903           00414     BTFSC   STATUS,Z
00F6   2???           00415     GOTO    MUL_DONE
                      00416 
00F7   082C           00417     MOVF    TEMP1,W
00F8   07AD           00418     ADDWF   TEMP2,F           ; TEMP2 += delta
                      00419 
00F9   03AF           00420     DECF    RESTO,F
00FA   2???           00421     GOTO    MUL_LOOP
                      00422 
00FB                  00423 MUL_DONE
                      00424     ; dividir por 16 ? nibble alto ? nibble bajo
00FB   0E2D           00425     SWAPF   TEMP2,W           
00FC   390F           00426     ANDLW   0x0F
                      00427 
00FD   1283 1303      00428     BANKSEL ADC_DB
00FF   07B0           00429     ADDWF   ADC_DB,F           ; suma interpolación
MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  17:17:28         PAGE 12


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00430 
0100   018A           00431     CLRF    PCLATH
0101   0008           00432     RETURN
                      00433     
                      00434 ;==============================================================
                      00435 ; TRANSMISION SERIE
                      00436 ;==============================================================
0102                  00437 SEND_ADC
Warning[207]: Found label after column 1. (LOOP_SENDADC)
0102                  00438     LOOP_SENDADC
0102   1683 1303      00439     BANKSEL TXSTA
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0104   1C98           00440     BTFSS   TXSTA, TRMT      ; Esperar buffer vacío
0105   2???           00441     GOTO    LOOP_SENDADC
0106   1283 1303      00442     BANKSEL ADC_DB
0108   0830           00443     MOVF    ADC_DB, W        ; ADC de 8 bits
0109   1283 1303      00444     BANKSEL TXREG
010B   0099           00445     MOVWF   TXREG            ; Enviar 1 byte crudo
Warning[203]: Found opcode in column 1. (RETURN)
010C   0008           00446 RETURN
                      00447 ;==============================================================
                      00448 ; RUTINA Transformacion a UNI,DEC y CEN con TRANSMISION SERIE
                      00449 ;==============================================================
010D                  00450 MAXdB_TRANS
010D   1283 1303      00451     BANKSEL MAX_dB
010F   082B           00452     MOVF    MAX_dB,W
0110   00AC           00453     MOVWF   TEMP1       ; número 0?255
                      00454 
0111   01A8           00455     CLRF    CEN
0112   01A7           00456     CLRF    DECS
                      00457 ; -------- CENTENAS (100) ---------
0113                  00458 CENT_LOOP
0113   3064           00459     MOVLW   D'100'
0114   02AC           00460     SUBWF   TEMP1,F
0115   1C03           00461     BTFSS   STATUS,C    ; ¿fue negativa?
0116   2???           00462     GOTO    FIX_CENT
0117   0AA8           00463     INCF    CEN,F
0118   2???           00464     GOTO    CENT_LOOP
                      00465 
0119                  00466 FIX_CENT
0119   3064           00467     MOVLW   D'100'
011A   07AC           00468     ADDWF   TEMP1,F      ; restaurar TEMP1
                      00469 
                      00470 ; -------- DECENAS (10) ---------
011B                  00471 DEC_LOOP
011B   300A           00472     MOVLW   D'10'
011C   02AC           00473     SUBWF   TEMP1,F
011D   1C03           00474     BTFSS   STATUS,C
011E   2???           00475     GOTO    FIX_DEC
011F   0AA7           00476     INCF    DECS,F
0120   2???           00477     GOTO    DEC_LOOP
                      00478 
0121                  00479 FIX_DEC
MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  17:17:28         PAGE 13


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0121   300A           00480     MOVLW   D'10'
0122   07AC           00481     ADDWF   TEMP1,F      ; restaurar TEMP1
                      00482 
                      00483 ; -------- UNIDADES --------
0123   082C           00484     MOVF    TEMP1,W      ; el resto final
0124   00A6           00485     MOVWF   UNI
0125   0008           00486     RETURN
                      00487 
                      00488 ;==============================================================
                      00489 ; RUTINA COMPARACION ADC - BARGRAPH
                      00490 ;==============================================================
0126                  00491 MAXdB_COMP
                      00492     ; limpiar LEDs
0126   1283 1303      00493     BANKSEL PORTA
0128   1205           00494     BCF PORTA,4     
0129   1105           00495     BCF PORTA,2     ; LED MAX
012A   1283 1303      00496     BANKSEL PORTC
012C   1007           00497     BCF PORTC,0
012D   1087           00498     BCF PORTC,1
012E   1107           00499     BCF PORTC,2     ;LED MIN
012F   1187           00500     BCF PORTC,3
0130   1003           00501     BCF STATUS,C
                      00502 
                      00503     ; copiar MAX_dB
0131   082B           00504     MOVF MAX_dB,W
0132   00AC           00505     MOVWF TEMP1
                      00506 
                      00507 ;-------------------------------
                      00508 ; LED MAX (A2)
0133   1283 1303      00509     BANKSEL ADC_DB
0135   0830           00510     MOVF ADC_DB,W
0136   022C           00511     SUBWF TEMP1,W
0137   1C03           00512     BTFSS STATUS,C
0138   1505           00513     BSF PORTA,2
0139   1003           00514     BCF STATUS,C
                      00515 
                      00516 ;-------------------------------
                      00517 ; LED A4 
013A   300F           00518     MOVLW .15
013B   02AC           00519     SUBWF TEMP1,F
013C   1283 1303      00520     BANKSEL ADC_DB
013E   0830           00521     MOVF ADC_DB,W
013F   022C           00522     SUBWF TEMP1,W
0140   1C03           00523     BTFSS STATUS,C
0141   1605           00524     BSF PORTA,4
0142   1003           00525     BCF STATUS,C
                      00526 
                      00527 ;-------------------------------
                      00528 ; LED C0
0143   300F           00529     MOVLW .15
0144   02AC           00530     SUBWF TEMP1,F
0145   1283 1303      00531     BANKSEL ADC_DB
0147   0830           00532     MOVF ADC_DB,W
MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  17:17:28         PAGE 14


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0148   022C           00533     SUBWF TEMP1,W
0149   1C03           00534     BTFSS STATUS,C
014A   1407           00535     BSF PORTC,0
014B   1003           00536     BCF STATUS,C
                      00537 
                      00538 ;-------------------------------
                      00539 ; LED C1
014C   300A           00540     MOVLW .10
014D   02AC           00541     SUBWF TEMP1,F
014E   1283 1303      00542     BANKSEL ADC_DB
0150   0830           00543     MOVF ADC_DB,W
0151   022C           00544     SUBWF TEMP1,W
0152   1C03           00545     BTFSS STATUS,C
0153   1487           00546     BSF PORTC,1
0154   1003           00547     BCF STATUS,C
                      00548 
                      00549 ;-------------------------------
                      00550 ; LED C2
0155   300A           00551     MOVLW .10
0156   02AC           00552     SUBWF TEMP1,F
0157   1283 1303      00553     BANKSEL ADC_DB
0159   0830           00554     MOVF ADC_DB,W
015A   022C           00555     SUBWF TEMP1,W
015B   1C03           00556     BTFSS STATUS,C
015C   1507           00557     BSF PORTC,2
015D   1003           00558     BCF STATUS,C
                      00559 
                      00560 ;-------------------------------
                      00561 ; LED MIN (C3)
015E   300A           00562     MOVLW .10
015F   02AC           00563     SUBWF TEMP1,F
0160   1283 1303      00564     BANKSEL ADC_DB
0162   0830           00565     MOVF ADC_DB,W
0163   022C           00566     SUBWF TEMP1,W
0164   1C03           00567     BTFSS STATUS,C
0165   1587           00568     BSF PORTC,3
0166   1003           00569     BCF STATUS,C
                      00570     
0167   0008           00571     RETURN
                      00572 
                      00573 ;==============================================================
                      00574 ; RUTINA MUESTREO (actualiza displays o salidas)
                      00575 ;==============================================================
0168                  00576 MUESTREO
                      00577     ; ===== DIGITO UNIDADES =====
0168   1283 1303      00578     BANKSEL PORTE
016A   1009           00579     BCF     PORTE,0
016B   1089           00580     BCF     PORTE,1
016C   1109           00581     BCF     PORTE,2
016D   1283 1303      00582     BANKSEL PORTA
016F   1685           00583     BSF     PORTA,5
                      00584     
0170   30??           00585     MOVLW HIGH TABLA_TECL   ; <<< cargar página
MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  17:17:28         PAGE 15


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0171   008A           00586     MOVWF PCLATH
0172   0826           00587     MOVF    UNI,W
0173   2???           00588     CALL    TABLA_TECL
0174   018A           00589     CLRF    PCLATH          ; <<< restaurar
0175   0088           00590     MOVWF   PORTD
0176   2???           00591     CALL    DELAY_2ms
                      00592 
                      00593     ; ===== DIGITO DECENAS =====
0177   1283 1303      00594     BANKSEL PORTE
0179   1009           00595     BCF     PORTE,0
017A   1089           00596     BCF     PORTE,1
017B   1509           00597     BSF     PORTE,2
017C   1283 1303      00598     BANKSEL PORTA
017E   1285           00599     BCF     PORTA,5
                      00600 
017F   30??           00601     MOVLW HIGH TABLA_TECL
0180   008A           00602     MOVWF PCLATH
0181   0827           00603     MOVF    DECS,W
0182   2???           00604     CALL    TABLA_TECL
0183   018A           00605     CLRF    PCLATH
0184   0088           00606     MOVWF   PORTD
0185   2???           00607     CALL    DELAY_2ms
                      00608 
                      00609     ; ===== DIGITO CENTENAS =====
0186   1283 1303      00610     BANKSEL PORTE
0188   1409           00611     BSF     PORTE,0
0189   1089           00612     BCF     PORTE,1
018A   1109           00613     BCF     PORTE,2
018B   1283 1303      00614     BANKSEL PORTA
018D   1285           00615     BCF     PORTA,5
                      00616 
018E   30??           00617     MOVLW HIGH TABLA_TECL
018F   008A           00618     MOVWF PCLATH
0190   0828           00619     MOVF    CEN,W
0191   2???           00620     CALL    TABLA_TECL
0192   018A           00621     CLRF    PCLATH
0193   0088           00622     MOVWF   PORTD
0194   2???           00623     CALL    DELAY_2ms
                      00624     
                      00625     ; ===== GUARDA (LETRA ?dE?) =====
0195   1283 1303      00626     BANKSEL PORTE
0197   1009           00627     BCF     PORTE,0
0198   1489           00628     BSF     PORTE,1
0199   1109           00629     BCF     PORTE,2
019A   1283 1303      00630     BANKSEL PORTA
019C   1285           00631     BCF     PORTA,5
                      00632 
019D   30DE           00633     MOVLW b'11011110'
019E   0088           00634     MOVWF PORTD
019F   2???           00635     CALL DELAY_2ms
                      00636     
Warning[203]: Found opcode in column 1. (RETURN)
01A0   0008           00637 RETURN
MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  17:17:28         PAGE 16


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00638 
                      00639 ;==============================================================
                      00640 ; TABLA DE CONVERSIÓN PARA MAX_dB
                      00641 ;==============================================================
01A1                  00642 TABLA_MAXdB
01A1   0782           00643     ADDWF PCL, F
01A2   343C           00644     RETLW .60
01A3   3440           00645     RETLW .64
01A4   3444           00646     RETLW .68
01A5   3446           00647     RETLW .70   
01A6   344A           00648     RETLW .74
01A7   344E           00649     RETLW .78
01A8   3450           00650     RETLW .80
01A9   3454           00651     RETLW .84
01AA   3458           00652     RETLW .88
01AB   345A           00653     RETLW .90
01AC   345E           00654     RETLW .94
01AD   3462           00655     RETLW .98
01AE   3464           00656     RETLW .100
01AF   3468           00657     RETLW .104
01B0   346C           00658     RETLW .108
01B1   3472           00659     RETLW .114
                      00660 
                      00661 ;==============================================================
                      00662 ; TABLA DE CONVERSIÓN PARA DISPLAY 7 SEGMENTOS
                      00663 ;==============================================================
01B2                  00664 TABLA_TECL
01B2   0782           00665     ADDWF PCL,F
01B3   343F           00666     RETLW b'00111111'  ; 0
01B4   3406           00667     RETLW b'00000110'  ; 1
01B5   345B           00668     RETLW b'01011011'  ; 2
01B6   344F           00669     RETLW b'01001111'  ; 3
01B7   3466           00670     RETLW b'01100110'  ; 4
01B8   346D           00671     RETLW b'01101101'  ; 5
01B9   347D           00672     RETLW b'01111101'  ; 6
01BA   3407           00673     RETLW b'00000111'  ; 7
01BB   347F           00674     RETLW b'01111111'  ; 8
01BC   346F           00675     RETLW b'01101111'  ; 9
Warning[205]: Found directive in column 1. (END)
2FF1                  00676 END
MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  17:17:28         PAGE 17


SYMBOL TABLE
  LABEL                             VALUE 

ABDEN                             00000000
ABDOVF                            00000007
ACKDT                             00000005
ACKEN                             00000004
ACKSTAT                           00000006
ACQ_LOOP                          000000D0
ADCON0                            0000001F
ADCON1                            0000009F
ADCS0                             00000006
ADCS1                             00000007
ADC_DB                            00000030
ADC_READ                          000000CE
ADDEN                             00000003
ADFM                              00000007
ADIE                              00000006
ADIF                              00000006
ADON                              00000000
ADRESH                            0000001E
ADRESL                            0000009E
ANS0                              00000000
ANS1                              00000001
ANS10                             00000002
ANS11                             00000003
ANS12                             00000004
ANS13                             00000005
ANS2                              00000002
ANS3                              00000003
ANS4                              00000004
ANS5                              00000005
ANS6                              00000006
ANS7                              00000007
ANS8                              00000000
ANS9                              00000001
ANSEL                             00000188
ANSELH                            00000189
BAUDCTL                           00000187
BCLIE                             00000003
BCLIF                             00000003
BF                                00000000
BRG0                              00000000
BRG1                              00000001
BRG10                             00000002
BRG11                             00000003
BRG12                             00000004
BRG13                             00000005
BRG14                             00000006
BRG15                             00000007
BRG16                             00000003
BRG2                              00000002
BRG3                              00000003
BRG4                              00000004
BRG5                              00000005
BRG6                              00000006
MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  17:17:28         PAGE 18


SYMBOL TABLE
  LABEL                             VALUE 

BRG7                              00000007
BRG8                              00000000
BRG9                              00000001
BRGH                              00000002
C                                 00000000
C1CH0                             00000000
C1CH1                             00000001
C1IE                              00000005
C1IF                              00000005
C1OE                              00000005
C1ON                              00000007
C1OUT                             00000006
C1POL                             00000004
C1R                               00000002
C1RSEL                            00000005
C1SEN                             00000005
C2CH0                             00000000
C2CH1                             00000001
C2IE                              00000006
C2IF                              00000006
C2OE                              00000005
C2ON                              00000007
C2OUT                             00000006
C2POL                             00000004
C2R                               00000002
C2REN                             00000004
C2RSEL                            00000004
C2SYNC                            00000000
CCP1CON                           00000017
CCP1IE                            00000002
CCP1IF                            00000002
CCP1M0                            00000000
CCP1M1                            00000001
CCP1M2                            00000002
CCP1M3                            00000003
CCP1X                             00000005
CCP1Y                             00000004
CCP2CON                           0000001D
CCP2IE                            00000000
CCP2IF                            00000000
CCP2M0                            00000000
CCP2M1                            00000001
CCP2M2                            00000002
CCP2M3                            00000003
CCP2X                             00000005
CCP2Y                             00000004
CCPR1                             00000015
CCPR1H                            00000016
CCPR1L                            00000015
CCPR2                             0000001B
CCPR2H                            0000001C
CCPR2L                            0000001B
CEN                               00000028
MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  17:17:28         PAGE 19


SYMBOL TABLE
  LABEL                             VALUE 

CENT_LOOP                         00000113
CHS0                              00000002
CHS1                              00000003
CHS2                              00000004
CHS3                              00000005
CKE                               00000006
CKP                               00000004
CM1CON0                           00000107
CM2CON0                           00000108
CM2CON1                           00000109
CREN                              00000004
CSRC                              00000007
D                                 00000005
DATA_ADDRESS                      00000005
DC                                00000001
DC1B0                             00000004
DC1B1                             00000005
DC2B0                             00000004
DC2B1                             00000005
DECS                              00000027
DEC_LOOP                          0000011B
DELAY1_20ms                       00000024
DELAY1_2ms                        00000022
DELAY2_20ms                       00000025
DELAY2_2ms                        00000023
DELAY_20ms                        000000C5
DELAY_2ms                         000000BB
D_A                               00000005
D_NOT_A                           00000005
ECCPAS                            0000009C
ECCPAS0                           00000004
ECCPAS1                           00000005
ECCPAS2                           00000006
ECCPASE                           00000007
EEADR                             0000010D
EEADRH                            0000010F
EECON1                            0000018C
EECON2                            0000018D
EEDAT                             0000010C
EEDATA                            0000010C
EEDATH                            0000010E
EEIE                              00000004
EEIF                              00000004
EEPGD                             00000007
F                                 00000001
FERR                              00000002
FIX_CENT                          00000119
FIX_DEC                           00000121
FSR                               00000004
FVREN                             00000000
GCEN                              00000007
GIE                               00000007
GO                                00000001
MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  17:17:28         PAGE 20


SYMBOL TABLE
  LABEL                             VALUE 

GO_DONE                           00000001
GO_NOT_DONE                       00000001
HTS                               00000002
I2C_DATA                          00000005
I2C_READ                          00000002
I2C_START                         00000003
I2C_STOP                          00000004
INDEX                             0000002E
INDF                              00000000
INICIO                            00000005
INI_ADC                           
INI_INTER                         
INI_PORTA                         
INI_PORTB                         
INI_PORTC                         
INI_PORTD                         
INI_PORTE                         
INI_PUERTOS                       
INI_TECL                          
INI_UART                          
INTCON                            0000000B
INTE                              00000004
INTEDG                            00000006
INTF                              00000001
IOCB                              00000096
IOCB0                             00000000
IOCB1                             00000001
IOCB2                             00000002
IOCB3                             00000003
IOCB4                             00000004
IOCB5                             00000005
IOCB6                             00000006
IOCB7                             00000007
IRCF0                             00000004
IRCF1                             00000005
IRCF2                             00000006
IRP                               00000007
ISR_FIN                           000000B7
ISR_INICIO                        0000006B
ISR_TECL                          00000029
LOOP1_20ms                        000000C7
LOOP1_2ms                         000000BD
LOOP2_20ms                        000000C9
LOOP2_2ms                         000000BF
LOOP_SENDADC                      00000102
LTS                               00000001
MAIN_LOOP                         00000063
MAX_dB                            0000002B
MAXdB_COMP                        00000126
MAXdB_TRANS                       0000010D
MC1OUT                            00000007
MC2OUT                            00000006
MSK                               00000093
MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  17:17:28         PAGE 21


SYMBOL TABLE
  LABEL                             VALUE 

MSK0                              00000000
MSK1                              00000001
MSK2                              00000002
MSK3                              00000003
MSK4                              00000004
MSK5                              00000005
MSK6                              00000006
MSK7                              00000007
MUESTREO                          00000168
MUL_DONE                          000000FB
MUL_LOOP                          000000F4
NOT_A                             00000005
NOT_ADDRESS                       00000005
NOT_BO                            00000000
NOT_BOR                           00000000
NOT_DONE                          00000001
NOT_PD                            00000003
NOT_POR                           00000001
NOT_RBPU                          00000007
NOT_RC8                           00000006
NOT_T1SYNC                        00000002
NOT_TO                            00000004
NOT_TX8                           00000006
NOT_W                             00000002
NOT_WRITE                         00000002
NTECL                             0000002A
OERR                              00000001
OPTION_REG                        00000081
OSCCON                            0000008F
OSCTUNE                           00000090
OSFIE                             00000007
OSFIF                             00000007
OSTS                              00000003
P                                 00000004
P1M0                              00000006
P1M1                              00000007
PCL                               00000002
PCLATH                            0000000A
PCON                              0000008E
PDC0                              00000000
PDC1                              00000001
PDC2                              00000002
PDC3                              00000003
PDC4                              00000004
PDC5                              00000005
PDC6                              00000006
PEIE                              00000006
PEN                               00000002
PIE1                              0000008C
PIE2                              0000008D
PIR1                              0000000C
PIR2                              0000000D
PORTA                             00000005
MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  17:17:28         PAGE 22


SYMBOL TABLE
  LABEL                             VALUE 

PORTB                             00000006
PORTC                             00000007
PORTD                             00000008
PORTE                             00000009
PR2                               00000092
PRSEN                             00000007
PS0                               00000000
PS1                               00000001
PS2                               00000002
PSA                               00000003
PSSAC0                            00000002
PSSAC1                            00000003
PSSBD0                            00000000
PSSBD1                            00000001
PSTRCON                           0000009D
PULSR                             00000002
PULSS                             00000003
PWM1CON                           0000009B
R                                 00000002
RA0                               00000000
RA1                               00000001
RA2                               00000002
RA3                               00000003
RA4                               00000004
RA5                               00000005
RA6                               00000006
RA7                               00000007
RB0                               00000000
RB1                               00000001
RB2                               00000002
RB3                               00000003
RB4                               00000004
RB5                               00000005
RB6                               00000006
RB7                               00000007
RBIE                              00000003
RBIF                              00000000
RC0                               00000000
RC1                               00000001
RC2                               00000002
RC3                               00000003
RC4                               00000004
RC5                               00000005
RC6                               00000006
RC7                               00000007
RC8_9                             00000006
RC9                               00000006
RCD8                              00000000
RCEN                              00000003
RCIDL                             00000006
RCIE                              00000005
RCIF                              00000005
RCREG                             0000001A
MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  17:17:28         PAGE 23


SYMBOL TABLE
  LABEL                             VALUE 

RCSTA                             00000018
RD                                00000000
RD0                               00000000
RD1                               00000001
RD2                               00000002
RD3                               00000003
RD4                               00000004
RD5                               00000005
RD6                               00000006
RD7                               00000007
RE0                               00000000
RE1                               00000001
RE2                               00000002
RE3                               00000003
READ_WRITE                        00000002
RESTO                             0000002F
RP0                               00000005
RP1                               00000006
RSEN                              00000001
RX9                               00000006
RX9D                              00000000
R_NOT_W                           00000002
R_W                               00000002
S                                 00000003
SBOREN                            00000004
SCKP                              00000004
SCS                               00000000
SEN                               00000000
SENDB                             00000003
SEND_ADC                          00000102
SMP                               00000007
SPBRG                             00000099
SPBRGH                            0000009A
SPEN                              00000007
SR0                               00000006
SR1                               00000007
SRCON                             00000185
SREN                              00000005
SSPADD                            00000093
SSPBUF                            00000013
SSPCON                            00000014
SSPCON2                           00000091
SSPEN                             00000005
SSPIE                             00000003
SSPIF                             00000003
SSPM0                             00000000
SSPM1                             00000001
SSPM2                             00000002
SSPM3                             00000003
SSPMSK                            00000093
SSPOV                             00000006
SSPSTAT                           00000094
STATUS                            00000003
MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  17:17:28         PAGE 24


SYMBOL TABLE
  LABEL                             VALUE 

STATUS_TEMP                       00000021
STRA                              00000000
STRB                              00000001
STRC                              00000002
STRD                              00000003
STRSYNC                           00000004
SWDTEN                            00000000
SYNC                              00000004
T0CS                              00000005
T0IE                              00000005
T0IF                              00000002
T0SE                              00000004
T1CKPS0                           00000004
T1CKPS1                           00000005
T1CON                             00000010
T1GINV                            00000007
T1GIV                             00000007
T1GSS                             00000001
T1INSYNC                          00000002
T1OSCEN                           00000003
T1SYNC                            00000002
T2CKPS0                           00000000
T2CKPS1                           00000001
T2CON                             00000012
TABLA_MAXdB                       000001A1
TABLA_TECL                        000001B2
TECL_DELAYC1                      00000088
TECL_DELAYC2                      0000008D
TECL_DELAYC3                      00000092
TECL_DELAYC4                      00000097
TECL_LOAD                         0000009C
TECL_RES                          000000A6
TEMP1                             0000002C
TEMP2                             0000002D
TEST_COL                          00000075
TEST_FIL                          00000082
TMR0                              00000001
TMR0IE                            00000005
TMR0IF                            00000002
TMR1                              0000000E
TMR1CS                            00000001
TMR1GE                            00000006
TMR1H                             0000000F
TMR1IE                            00000000
TMR1IF                            00000000
TMR1L                             0000000E
TMR1ON                            00000000
TMR2                              00000011
TMR2IE                            00000001
TMR2IF                            00000001
TMR2ON                            00000002
TOUTPS0                           00000003
TOUTPS1                           00000004
MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  17:17:28         PAGE 25


SYMBOL TABLE
  LABEL                             VALUE 

TOUTPS2                           00000005
TOUTPS3                           00000006
TRANS_ADC_DB                      000000DB
TRISA                             00000085
TRISA0                            00000000
TRISA1                            00000001
TRISA2                            00000002
TRISA3                            00000003
TRISA4                            00000004
TRISA5                            00000005
TRISA6                            00000006
TRISA7                            00000007
TRISB                             00000086
TRISB0                            00000000
TRISB1                            00000001
TRISB2                            00000002
TRISB3                            00000003
TRISB4                            00000004
TRISB5                            00000005
TRISB6                            00000006
TRISB7                            00000007
TRISC                             00000087
TRISC0                            00000000
TRISC1                            00000001
TRISC2                            00000002
TRISC3                            00000003
TRISC4                            00000004
TRISC5                            00000005
TRISC6                            00000006
TRISC7                            00000007
TRISD                             00000088
TRISD0                            00000000
TRISD1                            00000001
TRISD2                            00000002
TRISD3                            00000003
TRISD4                            00000004
TRISD5                            00000005
TRISD6                            00000006
TRISD7                            00000007
TRISE                             00000089
TRISE0                            00000000
TRISE1                            00000001
TRISE2                            00000002
TRISE3                            00000003
TRMT                              00000001
TUN0                              00000000
TUN1                              00000001
TUN2                              00000002
TUN3                              00000003
TUN4                              00000004
TX8_9                             00000006
TX9                               00000006
TX9D                              00000000
MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  17:17:28         PAGE 26


SYMBOL TABLE
  LABEL                             VALUE 

TXD8                              00000000
TXEN                              00000005
TXIE                              00000004
TXIF                              00000004
TXREG                             00000019
TXSTA                             00000098
UA                                00000001
ULPWUE                            00000005
ULPWUIE                           00000002
ULPWUIF                           00000002
UNI                               00000026
VCFG0                             00000004
VCFG1                             00000005
VR0                               00000000
VR1                               00000001
VR2                               00000002
VR3                               00000003
VRCON                             00000097
VREN                              00000007
VROE                              00000006
VRR                               00000005
VRSS                              00000004
W                                 00000000
WAIT_ADC                          000000D5
WAIT_RELEASE                      000000AA
WCOL                              00000007
WDTCON                            00000105
WDTPS0                            00000001
WDTPS1                            00000002
WDTPS2                            00000003
WDTPS3                            00000004
WPUB                              00000095
WPUB0                             00000000
WPUB1                             00000001
WPUB2                             00000002
WPUB3                             00000003
WPUB4                             00000004
WPUB5                             00000005
WPUB6                             00000006
WPUB7                             00000007
WR                                00000001
WREN                              00000002
WRERR                             00000003
WUE                               00000001
W_TEMP                            00000020
Z                                 00000002
_BOR21V                           00003EFF
_BOR40V                           00003FFF
_BOR4V_BOR21V                     00003EFF
_BOR4V_BOR40V                     00003FFF
_BOREN_NSLEEP                     00003EFF
_BOREN_OFF                        00003CFF
_BOREN_ON                         00003FFF
MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  17:17:28         PAGE 27


SYMBOL TABLE
  LABEL                             VALUE 

_BOREN_SBODEN                     00003DFF
_BOR_NSLEEP                       00003EFF
_BOR_OFF                          00003CFF
_BOR_ON                           00003FFF
_BOR_SBODEN                       00003DFF
_CONFIG1                          00002007
_CONFIG2                          00002008
_CPD_OFF                          00003FFF
_CPD_ON                           00003F7F
_CP_OFF                           00003FFF
_CP_ON                            00003FBF
_DEBUG_OFF                        00003FFF
_DEBUG_ON                         00001FFF
_DEVID1                           00002006
_EC_OSC                           00003FFB
_EXTRC                            00003FFF
_EXTRCIO                          00003FFE
_EXTRC_OSC_CLKOUT                 00003FFF
_EXTRC_OSC_NOCLKOUT               00003FFE
_FCMEN_OFF                        000037FF
_FCMEN_ON                         00003FFF
_FOSC_EC                          00003FFB
_FOSC_EXTRC_CLKOUT                00003FFF
_FOSC_EXTRC_NOCLKOUT              00003FFE
_FOSC_HS                          00003FFA
_FOSC_INTRC_CLKOUT                00003FFD
_FOSC_INTRC_NOCLKOUT              00003FFC
_FOSC_LP                          00003FF8
_FOSC_XT                          00003FF9
_HS_OSC                           00003FFA
_IDLOC0                           00002000
_IDLOC1                           00002001
_IDLOC2                           00002002
_IDLOC3                           00002003
_IESO_OFF                         00003BFF
_IESO_ON                          00003FFF
_INTOSC                           00003FFD
_INTOSCIO                         00003FFC
_INTRC_OSC_CLKOUT                 00003FFD
_INTRC_OSC_NOCLKOUT               00003FFC
_LP_OSC                           00003FF8
_LVP_OFF                          00002FFF
_LVP_ON                           00003FFF
_MCLRE_OFF                        00003FDF
_MCLRE_ON                         00003FFF
_PWRTE_OFF                        00003FFF
_PWRTE_ON                         00003FEF
_WDTE_OFF                         00003FF7
_WDTE_ON                          00003FFF
_WDT_OFF                          00003FF7
_WDT_ON                           00003FFF
_WRT_1FOURTH                      00003BFF
_WRT_256                          00003DFF
MPASM 5.81            TRABAJO5INTEGRADOR.ASM   11-17-2025  17:17:28         PAGE 28


SYMBOL TABLE
  LABEL                             VALUE 

_WRT_HALF                         000039FF
_WRT_OFF                          00003FFF
_XT_OSC                           00003FF9
__16F887                          00000001
    RETURN                        000000CE

Errors   :     0
Warnings :    32 reported,     0 suppressed
Messages :    32 reported,     0 suppressed

